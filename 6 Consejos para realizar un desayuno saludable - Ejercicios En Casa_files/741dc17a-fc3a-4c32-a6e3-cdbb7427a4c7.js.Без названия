!function(t){function e(r){if(i[r])return i[r].exports;var n=i[r]={exports:{},id:r,loaded:!1};return t[r].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])}return i},writable:!0,configurable:!0});var r,defaultConfig={replaced:!1},n=new(i(59)),a=function(){document.removeEventListener("DOMContentLoaded",a);try{r&&clearTimeout(r)}catch(t){}defaultConfig.hasOwnProperty("replaced")&&!defaultConfig.replaced||n.init(defaultConfig)};defaultConfig = {"tags":{"sm":{"mobile":[{"url":"https:\/\/es-sunicontent.videoplaza.tv\/proxy\/distributor\/v2?s=WeMassIT\/AsEjerciciosMobile&tt=p&rt=vast_2.0&rnd=${random}&pf=html5&xpb=1&gdpr=${gdpr}&gdpr_consent=${gdpr_consent}&ru=${request.referrerurl}&vht=${request.height}&vwt=${request.width}&cp.schain=${supply_chain}","trafficType":"DIRECT"},{"url":"https:\/\/s.richaudience.com\/vid\/LCL5vsUJMo\/${random}\/?hasConsent=1&consentString=${gdpr_consent}","trafficType":"DIRECT"},{"url":"","trafficType":"DIRECT"}],"desktop":[{"url":"https:\/\/es-sunicontent.videoplaza.tv\/proxy\/distributor\/v2?s=WeMassIT\/AsEjerciciosDesktop&tt=p&rt=vast_2.0&rnd=${random}&pf=fl_11&dcid=pc&xpb=1&gdpr=${gdpr}&gdpr_consent=${gdpr_consent}&ru=${request.referrerurl}&vht=${request.height}&vwt=${request.width}&cp.schain=${supply_chain}","trafficType":"DIRECT"},{"url":"https:\/\/s.richaudience.com\/vid\/LCL5vsUJMo\/${random}\/?hasConsent=1&consentString=${gdpr_consent}","trafficType":"DIRECT"},{"url":"","trafficType":"DIRECT"}]},"client":{"mobile":["","",""],"desktop":["","",""]}},"priority":{"mobile":"sm","desktop":"sm"},"options":{"skip":true,"skipTime":20,"skipReminder":false,"skipReminderTime":0,"classMandatory":true,"restart":true,"pod":true,"inblock":false,"up":false,"fold":true,"audio":false,"class":["#post-content > p"],"classPosition":1,"adPosition":[],"margin":0,"extra":"base\/fold"},"ava":{"desktop":{"enabled":false,"position":"bottom_right","bottom":0},"mobile":{"enabled":false,"position":"bottom_right","bottom":0}},"loop":{"desktop":{"enabled":true,"times":2,"autoStart":false,"onlyOneVideo":true},"mobile":{"enabled":false,"times":1,"autoStart":false,"onlyOneVideo":false}},"banner":{"desktop":{"schedule":"always","display":"fixed","position":"right","tag":[]},"mobile":{"schedule":"always","display":"fixed","position":"right","tag":[]}},"whitelist":[],"mobileNetBlackList":[],"category":"Health & Fitness","it":"741dc17a-fc3a-4c32-a6e3-cdbb7427a4c7","client":"411efbc2-de61-49ff-b491-39dc6a888ecb","publisher":"9c706dc7-efa9-4292-8df4-00bf347aaa21"};
"loading"===document.readyState?(document.addEventListener("DOMContentLoaded",a),r=setTimeout(a,2e3)):a()},,,function(t,e){var i=function(t){return function(e){return"number"==typeof e["inner"+t]?e["inner"+t]:e.documentElement&&"number"==typeof e.documentElement["client"+t]?e.documentElement["client"+t]:void 0}},r=function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)},n=function(t,e){if(!t)return e;for(var i in e)e.hasOwnProperty(i)&&("object"==typeof e[i]?t[i]=n(t[i],e[i]):t[i]=e[i]);return t},a=function(t){return!1===r(t)?t:t.self&&t.self===t?t:t instanceof HTMLElement?t:t&&t.tagName&&"script"===t.tagName.toLowerCase()?t:!0===Array.isArray(t)?s(t):"function"==typeof t?o(t):!0===r(t)?d(t):JSON.parse(JSON.stringify(t))},s=function(t){return t.map(function(t){return a(t)})},o=function(t){!0===t.__isClone&&(t=t.__clonedFrom);var e=t.bind({});for(var i in t)e[i]=t[i];return e.__isClone=!0,e.__clonedFrom=t,e},d=function(t){var e=t.constructor?t.constructor():{};for(var i in t)t.hasOwnProperty(i)&&(e[i]=a(t[i]));return e},c=function(){return["a","abbr","acronym","b","bdo","big","br","button","cite","code","dfn","em","i","input","kbd","label","map","object","q","samp","script","select","small","span","strong","sub","sup","textarea","time","tt","var"]},l=function(t,e){return void 0===e?e=[]:e.push(t),"BODY"!==t.tagName?l(t.parentNode,e):e},h=function(t,e,i,r,n){var a=document.createElement("iframe");a.setAttribute("style","border:0px;width:100%;height:100%;position:absolute;display:block;top:0px;left:0px;"),a.setAttribute("id","vpaid_creative_"+n),a.scrolling="no";try{!1===/Edge/.test(navigator.userAgent)&&(a.src="javascript:false"),t.appendChild(a);var s=a.contentWindow.document;s.open().write(i),s.close()}catch(e){a.src="javascript:void((function(){ "+i+"})())",t.appendChild(a)}return a},u=t.exports={removeWhitespace:function(t){for(var e=/\S/,i=0;i<t.childNodes.length;i++)3!==t.childNodes[i].nodeType||e.test(t.childNodes[i].nodeValue)||(t.removeChild(t.childNodes[i]),i--);return t},extend:function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},deepExtend:n,deepClone:a,isObject:r,deepCloneArray:s,deepCloneFunction:o,deepCloneObject:d,getBasePathMainJS:function(){return"https://static.sunmedia.tv/SMSdk/"},getElement:function(t,e){var i;if("swf"!==e)return document.getElementById(t);try{if(window.document[t])i=window.document[t];else if(document.getElementById(t))i=document.getElementById(t);else{if(!window[t])return!1;i=window[t]}return navigator.userAgent.toLowerCase().indexOf("firefox")>-1?i[1]:i}catch(t){}},getElementPosition:function(t){var e=document.body.getBoundingClientRect(),i=t.getBoundingClientRect(),r=i.top-e.top;return{x:i.left-e.left,y:r}},getWindow:function(t){return window.parent.document.getElementById(t)?this.w=window.parent:document.getElementById(t)&&(this.w=window),this.w},getPos:function(t){for(var e=0,i=0;null!=t;e+=t.offsetLeft,i+=t.offsetTop,t=t.offsetParent);return{x:e,y:i}},windowHeight:i("Height"),windowWidth:i("Width"),scrollTop:function(t){if(null!=t.pageXOffset)return{x:t.pageXOffset,y:t.pageYOffset};var e=t.document;return"CSS1Compat"===document.compatMode?{x:e.documentElement.scrollLeft,y:e.documentElement.scrollTop}:{x:e.body.scrollLeft,y:e.body.scrollTop}},tryGet:function(t){try{return t()}catch(t){return}},strUpperFirst:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},strLowerFirst:function(t){return t.charAt(0).toLowerCase()+t.slice(1)},arrayToCamelCase:function(e){var i=t.exports.strLowerFirst(e.shift());for(var r in e)e.hasOwnProperty(r)&&(i+=t.exports.strUpperFirst(e[r]));return i},objInvert:function(t){var e={};for(var i in t)i.match(/^\d+$/)&&(i=parseInt(i,10)),e[t[i]]=i;return e},childNodesNotAllowedToCount:c,isChildNodeAllowed:function(t){if(!t||!t.nodeName)return!1;var e=["a","abbr","acronym","b","bdo","big","br","button","cite","code","dfn","em","i","input","kbd","label","map","object","q","samp","script","select","small","span","strong","sub","sup","textarea","time","tt","var"],i=t.nodeName.toLowerCase();return-1===e.indexOf(i)},debug:function(t,e){e=e||u.debugLevel.INFO;var i="log";"undefined"!=typeof SMDBGLevel&&e<=SMDBGLevel&&(m[e].fn&&(i=m[e].fn),m[e].css&&"object"!=typeof t?(t="%c"+t,console[i](t,m[e].css)):console[i](t))},printError:function(t){console.error(t.name+": "+t.message)},linearQuantile:function(t,e){t.sort(function(t,e){return t-e});var i=e/100*(t.length-1),r=Math.floor(i);return r===i?t[i]:(fract=i-r,t[r]+(t[r+1]-t[r])*fract)},memoize:function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.memoize=t.memoize||{},e in t.memoize?t.memoize[e]:t.memoize[e]=t.apply(this,e)}},getParentNodeSwipe:l,appendFrameCode:h,appendFrameScript:function(t,e,i,r,n){var a;e?(a='<body style="margin:0px;"></body>',!0===n&&(a+="<script>var inDapIF = true;<\/script>"),a+='<script src="'+e+'"><\/script><script>setTimeout(function(){window.myCallback();}, 1000);<\/script>'):a="setTimeout(function(){window.myCallback()},10);";var s=h(t,0,a,0,r);return s.contentWindow.myCallback=i||function(){},s},setWindowFocusDetection:function(t,e){var i="hidden";i in document?document.addEventListener("visibilitychange",t):(i="mozHidden")in document?document.addEventListener("mozvisibilitychange",t):(i="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",t):(i="msHidden")in document?document.addEventListener("msvisibilitychange",t):"onfocusin"in document?document.onfocusin=document.onfocusout=t:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=t},removeWindowFocusDetection:function(t,e){var i="hidden";i in document?document.removeEventListener("visibilitychange",t):(i="mozHidden")in document?document.removeEventListener("mozvisibilitychange",t):(i="webkitHidden")in document?document.removeEventListener("webkitvisibilitychange",t):(i="msHidden")in document?document.removeEventListener("msvisibilitychange",t):"onfocusin"in document?document.onfocusin=document.onfocusout=null:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=null}},p=t.exports.debugLevel=Object.freeze(t.exports.objInvert(["DISABLED","CRITICAL","ERROR","WARNING","NOTICE","INFO","DEBUG"])),m={};m[p.CRITICAL]={fn:"error"},m[p.ERROR]={fn:"error"},m[p.WARNING]={fn:"warn"},m[p.NOTICE]={css:"color:#664ce6"},m[p.INFO]={fn:"info"},m[p.DEBUG]={css:"color:#4773ca;"}},,,function(t,e){var i="static.sunmedia.tv",r="https://"+i,n="https://track"+i.substr(i.indexOf(".")),a=r+"/SMSdk/";t.exports={CLOSE_MILLISECONDS:8e3,HOST:r,HOST_TRACKER:n,SDK_PATH:a,SDK_CSS_PATH:"https://static.sunmedia.tv/SMSdk/css/",SDK_ICO_PATH:"https://static.sunmedia.tv/SMSdk/ico/",SDK_EXTRA_PATH:"https://static.sunmedia.tv/SMSdk/extra/",SDK_GEO_PATH:"https://static.sunmedia.tv/SMVpaidCreatives/geotarget/eu_country.php",SDK_COUNTRY_PATH:"https://services.sunmedia.tv/geotarget/country.php",SM_GEO_WINDOW_KEY:"SMGDPRKey",SM_AD_BLOCKER_DETECT_JS_PATH:"https://static.sunmedia.tv/SMSdk/assets/AdBlockDetection/adblockDetector.js",SM_PRIORITY:{CLIENT:"client",SUN_MEDIA:"sm"},SDK_DEFAULT_TRACKER_OUTSTREAM:"https://static.sunmedia.tv/SMSdk/tracker/[CLIENT]/outstream.json",SDK_DEFAULT_TRACKER_INSTREAM:"https://static.sunmedia.tv/SMSdk/tracker/[CLIENT]/instream.json",SDK_DEFAULT_TRACKER_NATIVE:"https://static.sunmedia.tv/SMSdk/tracker/[CLIENT]/native.json",SDK_DEFAULT_TAG_PATH:"https://static.sunmedia.tv/SMSdk/tracker/",TRACKERS:{AD_IMPRESSION:"AdImpression",AD_VIDEOSTART:"AdVideoStart"},EVENTS:{SM:{PLAYER_FULLSCREEN_EXIT:"SM_PLAYER_FULLSCREEN_EXIT",UPDATE_CONFIG_OPTIONS:"SM_UPDATE_CONFIG_OPTIONS",TAGS_BLOCK_CHANGED:"SM_TAGS_BLOCK_CHANGED",UNFILLED:"SM_UNFILLED",TRACKER:"SM_TRACKER",NON_STARTED:"SM_NON_STARTED",UPDATE_TRACKER:"SM_UPDATE_TRACKER"},AD:{TRACKER:"AdTracker"},AD_FACTORY:"SMAdFactory",AD_FACTORY_SSP_VPAID_SIZE:"SMAdFactorySSPVpaidSize",AD_FACTORY_IMPRESSION:"SMAdFactoryImpression"},STRICT_USER_CONSENT:["21d59bad-6ed2-4a81-a742-b71a242144dd"],AD_FACTORY_EVENT:"SMAdFactory",AD_FACTORY_SSP_VPAID_SIZE_EVENT:"SMAdFactorySSPVpaidSize",SM_EVENTS:{UPDATE_CONFIG_OPTIONS:"SM_UPDATE_CONFIG_OPTIONS",TAGS_BLOCK_CHANGED:"SM_TAGS_BLOCK_CHANGED",UNFILLED:"SM_UNFILLED",SM_AD_TRACKER:"SM_TRACKER",SM_UPDATED_TRACKER:"SM_UPDATED_TRACKER",SM_PLAYER_FULLSCREEN_EXIT:"SM_PLAYER_FULLSCREEN_EXIT"},NON_START:["vpaid.adsafeprotected.com"],PLG_NAMES:{SMInHome:"inhome-1-0",SMInImage:"inimage-1-0",SMInText:"intext-1-0",Native:"native-2-0"}}},function(t,e){function i(t){var e=document.getElementsByTagName("script");return Array.prototype.filter.call(e,function(e){return-1!==e.src.indexOf(t)})[0]}function r(t,e){var i="inner"+e,r="client"+e;return(t=t||window)[i]?t[i]:t.document&&t.document.documentElement&&t.document.documentElement[r]?t.document.documentElement[r]:void 0}function n(t){return r(t,"Width")}function a(t){return r(t,"Height")}function s(t,e){var i=t.getBoundingClientRect(),r=n(e);return i.left<0||i.left+i.width>r}function o(t,e){for(var i=[],r=0;r<t.length;r++)t[r].getAttribute("itemprop")&&t[r].getAttribute("itemprop")===e&&i.push(t[r]);return i}function d(t,e){return void 0===e&&(e=0),e>=t.length&&(e=t.length-1),t[e]}function c(t,e){var i;try{if(e.indexOf(".")>-1||e.indexOf("#")>-1)i=t.document.querySelectorAll(e);else if(t.document.getElementById(e))i=[t.document.getElementById(e)];else if(t.document.getElementsByClassName(e).length>0)i=t.document.getElementsByClassName(e);else{var r=t.document.getElementsByTagName("div"),n=t.document.getElementsByTagName("article"),a=o(r,e),s=o(n,e);i=a.concat(s)}}catch(t){}return i}function l(t){if(!t)return{x:0,y:0};var e=t.offsetParent;null===e&&(e=t.parentNode);var i=l(e),r=t.offsetTop||0;return{x:(t.offsetLeft||0)+i.x,y:r+i.y}}function h(t,e){var i;t.style.zIndex&&(i=t.style.zIndex);var r=e.getComputedStyle(t).getPropertyValue("z-index");return r&&(i=r),i}function u(t,e){var i,r=!1,n=[];for(n.unshift(t);t.parentNode&&t.parentNode!==e.document.body;)t=t.parentNode,n.unshift(t);for(var a=0;a<n.length;a++){var s=n[a];if(s.style){var o=e.getComputedStyle(s).getPropertyValue("position");if(!r&&"static"!==o){var d=h(s,e);d&&(i=d),r=!0}}}return i}t.exports={getCurrentSMScript:function(t){return document.currentScript?document.currentScript:i(t)},getWindowHeight:a,isOutOfScreen:function(t,e){e=e||window;var i=t.getBoundingClientRect(),r=Math.floor(i.left),a=Math.floor(i.width),s=Math.floor(n(e));return r<0||r+a>s},isScrolledIntoView:function(t,e,i){var r=t.getBoundingClientRect(),n=a(e);return r.top>=i&&r.bottom<=n},isScrolledBellowView:function(t){return t.getBoundingClientRect().top<0},isScrolledOutOfAvaRegion:function(t,e){var i=t.getBoundingClientRect(),r=a(e)-50;return i.top>=100&&i.bottom<=r},isScrolledOutOfAvaRegionNativeFrame:function(t,e){var i=t.getBoundingClientRect(),r=a(e);return i.top>=0&&i.top<=r/2},getContainerByClassNameListAndPos:function(t,e,i){"string"==typeof e&&(e=e.split(","));for(var r,n=0;n<e.length;n++)try{if((r=c(t,e[n].trim().trim()))&&r.length>0)break}catch(t){}return d(r,i)},getElementsByClassNameList:function(t,e){"string"==typeof e&&(e=e.split(","));for(var i,r=0;r<e.length;r++)try{if((i=c(t,e[r].trim().trim()))&&i.length>0)break}catch(t){}return i},getContainerInScreen:function(t,e){for(var i=null,r=0;r<t.length;r++)!1===s(t[r],e)&&(i=t[r]);return i},getElementPosition:l,getZIndexFromElm:h,getZIndexFromAncestors:u,getZIndex:function(t,e){if(!t)throw new Error("container is undefined");var i=u(t,e);return 0!==i&&"auto"!==i||!t.style||(i=h(t,e)),0!==i&&"auto"!==i||(i=1),i},createStyleElement:function(t,e,i){var r=t.document.getElementById(e);if(!r)if((r=t.document.createElement("style")).setAttribute("id",e),r.setAttribute("type","text/css"),r.styleSheet)r.styleSheet.cssText=i;else{var n=t.document.createTextNode(i);r.appendChild(n)}return r},createLinkElement:function(t,e,i){var r=t.document.getElementById(e);return r||((r=t.document.createElement("link")).setAttribute("id",e),r.setAttribute("href",i),r.setAttribute("rel","stylesheet")),r},addClassToElement:function(t,e){-1===t.className.indexOf(e)&&(t.className+=" "+e)},removeClassFromElement:function(t,e){if(-1!==t.className.indexOf(e)){var i=t.className.split(" "),r=i.indexOf(e);r>-1&&i.splice(r,1),t.className=i.join(" ")}},getRootWindow:function(t){var e=t;try{for(;e.parent&&e!==e.parent;)e=e.parent}catch(t){}return e}}},function(t,e){function i(t,e){return 0===e?t:i(e,t%e)}function r(t){var e=0,r=0;t&&(e=t.width,r=t.height),r&&"undefined"!==r||(e=640,r=360);var n=i(e,r),a=e/n+":"+r/n;return t&&t.apiFramework&&"vpaid"===t.apiFramework.toLowerCase()&&(a="16:9"),a}function n(t,e){for(var i=t.getElementsByTagName("iframe"),r=0;r<i.length;r++){var a=i[r];if(!a.src||-1===a.src.indexOf("http")&&-1===a.src.indexOf(".js"))try{a.contentWindow&&(e(a.contentWindow.document),n(a.contentWindow.document,e))}catch(t){}}}t.exports={selectRandomElementInArr:function(t){var e=t.length;return t[Math.floor(Math.random()*e)]},getCreativeHeight:function(t,e){try{var i=1;switch(r(e)){case"9:16":case"16:9":i=360*t/640;break;case"3:4":case"4:3":i=360*t/480;break;case"76:135":i=540*t/304;break;default:i=360*t/640}}catch(e){i=360*t/640}return i},getCreativeWidth:function(t,e){try{var i=1;switch(r(e)){case"9:16":case"16:9":i=640*t/360;break;case"3:4":case"4:3":i=480*t/360;break;case"76:135":i=304*t/540;break;default:i=640*t/360}}catch(e){i=640*t/360}return i},isAllowedToRun:function(t,e){var i=!0;return e&&e.length>0&&(i=!1,e.some(function(e){i=i||e===t})),i},forEachIFramesR:n,checkVpaidIFrame:function(t){var e=!1;if(t){var i=t.contentWindow.document.body;if(i&&i.childNodes)for(var r=0;r<i.childNodes.length;r++)if(i.childNodes[r]&&i.childNodes[r].tagName&&"script"!==i.childNodes[r].tagName.toLowerCase()){e="ias-ad"!==i.childNodes[r].tagName.toLowerCase();break}}return e},getFrameAVAStyle:function(t,e,i){var r=t.bottom||60,n="";return"top"===t.position?n+="width:"+e.width+"px!important;height:"+e.height+"px!important;left:"+(e.left||20)+"px;top: 20px;":"top_left"===t.position?n+="width:"+i.width+"px!important;height:"+i.height+"px!important;left:"+(i.left||20)+"px;top: 20px;":"top_right"===t.position?n+="width:"+i.width+"px!important;height:"+i.height+"px!important;right:"+(i.right||20)+"px;top: 20px;":"bottom"===t.position?n+="width:"+e.width+"px!important;height:"+e.height+"px!important;left:"+(e.left||20)+"px;bottom: "+r+"px;":"bottom_left"===t.position||"left"===t.position?n+="width:"+i.width+"px!important;height:"+i.height+"px!important;left:"+(i.left||20)+"px;bottom: "+r+"px;":"bottom_right"!==t.position&&"right"!==t.position||(n+="width:"+i.width+"px!important;height:"+i.height+"px!important;right:"+(i.right||20)+"px;bottom: "+r+"px;"),n},getPluginName:function(t){var e="";if(t&&t.constructor)if(void 0===t.constructor.name){var i=t.constructor.toString();e=(i=(i=i.substr("function ".length)).substr(0,i.indexOf("("))).trim()}else e=t.constructor.name;return"sm"+e},buildSunmediaTags:function(t,e,i){t=t||[];var r,n,a=(e=e||{}).VAST||[],s=e.BANNER||[];for(r=0;r<s.length;r++)(n=s[r])&&n.url&&""!==n.url&&(n.type="default",n.mode="banner",n.device=i,t.push(n));for(r=a.length;r>=0;r--)(n=a[r])&&n.url&&""!==n.url&&(n.type="default",n.mode="vast",n.device=i,t.unshift(n));return t},getRatioAsString:function(t,e){var r=i(t,e);return t/r+":"+e/r},isSelectedTag:function(t,e){if(!t)return!1;var i=t.indexOf("https://search.spotxchange.com/vast/2.0/")>-1&&t.indexOf("270673")>-1;return"mobile"===e&&i},isVerificationTag:function(t){return!!(t&&t.vast&&t.vast.currentTagUrl)&&t.vast.currentTagUrl.indexOf("https://vast.adsafeprotected.com/vast?anId=925802")>-1}}},function(t,e){function i(){return window.location.toString().indexOf(n)>-1||!0===window[n]}function r(t,e,r){if(r=r||"font-weight:bold",i()){var n="SM"+t.toUpperCase()+":";r?console[t].apply(console,["%c"+n,r,e]):console[t].apply(console,[n,e])}}var n="SM_DEBUG";t.exports={SM_DEBUG_WINDOW_KEY:n,warning:function(t){r("warn",t)},error:function(t){r("error",t)},info:function(t){r("info",t,"color: blue; font-weight:bold")},log:function(t){r("log",t)}}},function(t,e){function i(defaultConfig,t){defaultConfig.pod=!1,defaultConfig.loop.enabled=!1,defaultConfig.priority="sm",defaultConfig.tags.sm&&(defaultConfig.tag=[{url:t.trim(),trafficType:"DIRECT"}])}function r(){var t;try{var e=decodeURIComponent(location.hash);if(e.indexOf("smsh=")>-1){var i=e.indexOf("=");t=e.substring(i+1)}}catch(t){}return t}t.exports={checkForScreenHunter:function(defaultConfig){try{var t=r();"string"==typeof t&&i(defaultConfig,t)}catch(t){}}}},function(t,e){function i(){this._listeners={}}i.prototype.hasEventListener=function(t){return t in this._listeners},i.prototype.addEventListener=function(t,e){if(!e||"function"!=typeof e)throw new Error("The listener must be a function or have an on function");this.hasEventListener(t)?this._listeners[t].push(e):this._listeners[t]=[e]},i.prototype.removeEventListener=function(t,e){if(this.hasEventListener(t)){var i=this._listeners[t].indexOf(e);this._listeners[t].splice(i,1)}},i.prototype.dispatchEvent=function(t,e){this.hasEventListener(t)&&this._listeners[t].forEach(function(t){"function"==typeof t&&t(e)})},t.exports=i},function(t,e,i){function r(){this._intervals={}}var n=i(9);r.prototype.stopInterval=function(t){try{this._intervals.hasOwnProperty(t)?(clearInterval(this._intervals[t]),delete this._intervals[t]):n.warning("Trying to clear an unregistered interval named: "+t)}catch(t){n.error(t)}},r.prototype.addInterval=function(t,e,i){this._intervals.hasOwnProperty(t)||(this._intervals[t]=setInterval(e,i))},t.exports=r},function(t,e,i){function r(t,e,i,r,n){this._integrationId=t,this._position=e,this._defaultTracker=new s(i),this.trackerenabled=r,this.externalLogsCallback=n,this._commonTrackers={};var o=this.getCommonTrackers();for(var d in o)if(o.hasOwnProperty(d)){var c=o[d],l=this.buildTrackerUrl(d,1),h=new a(c);h.addUrl(l),this._commonTrackers[c]=h}}var n=i(6),a=i(14),s=i(15);r.OPPORTUNITY_TRACKER_NAME="opportunity",r.CONTAINER_SIZE_ERROR_TRACKER_NAME="container_size_error",r.REQUEST_TRACKER_NAME="request",r.EFFECTIVE_TRACKER_NAME="effective",r.UNFILLED_TRACKER_NAME="unfilled",r.VIEW_ABILITY_TRACKER_NAME="view_ability",(r.COMMON_TRACKER_CHOICES={})[(r.KEYS={OPPORTUNITY:"op",REQUEST:"req",EFFECTIVE:"ef",UNFILLED:"unf",IMPRESSION:"imp",VIDEO_START:"st",VIDEO_FQ:"fq",VIDEO_MP:"mp",VIDEO_TQ:"tq",VIDEO_COMPLETE:"co",SKIP:"sk",CLICK:"clk",CREATIVE_VIEW:"cv",VIEW_ABILITY:"vw",CONTAINER_SIZE_ERROR:"sizerr",REQUEST_ERROR:"reqe",ERROR:"err",PLAYER_IMPRESSION:"vimp"}).OPPORTUNITY]=[r.OPPORTUNITY_TRACKER_NAME],r.COMMON_TRACKER_CHOICES[r.KEYS.CONTAINER_SIZE_ERROR]=[r.CONTAINER_SIZE_ERROR_TRACKER_NAME],r.COMMON_TRACKER_CHOICES[r.KEYS.REQUEST]=[r.REQUEST_TRACKER_NAME],r.COMMON_TRACKER_CHOICES[r.KEYS.EFFECTIVE]=[r.EFFECTIVE_TRACKER_NAME],r.COMMON_TRACKER_CHOICES[r.KEYS.VIEW_ABILITY]=[r.VIEW_ABILITY_TRACKER_NAME],(r.VIDEO_TRACKER_COLLECTION={})[r.KEYS.IMPRESSION]=[n.TRACKERS.AD_IMPRESSION],r.VIDEO_TRACKER_COLLECTION[r.KEYS.VIDEO_START]=[n.TRACKERS.AD_VIDEOSTART],r.VIDEO_TRACKER_COLLECTION[r.KEYS.VIDEO_FQ]=["AdVideoFirstQuartile"],r.VIDEO_TRACKER_COLLECTION[r.KEYS.VIDEO_MP]=["AdVideoMidpoint"],r.VIDEO_TRACKER_COLLECTION[r.KEYS.VIDEO_TQ]=["AdVideoThirdQuartile"],r.VIDEO_TRACKER_COLLECTION[r.KEYS.VIDEO_COMPLETE]=["AdVideoComplete"],r.VIDEO_TRACKER_COLLECTION[r.KEYS.SKIP]=["skip","AdSkipped"],r.VIDEO_TRACKER_COLLECTION[r.KEYS.CLICK]=["clickTracking"],r.VIDEO_TRACKER_COLLECTION[r.KEYS.CREATIVE_VIEW]=["creativeView"],r.VIDEO_TRACKER_COLLECTION[r.KEYS.VIEW_ABILITY]=["viewability"],r.VIDEO_TRACKER_COLLECTION[r.KEYS.ERROR]=["error"],r.VIDEO_TRACKER_COLLECTION[r.KEYS.REQUEST_ERROR]=["request_error"],r.VIDEO_TRACKER_COLLECTION[r.KEYS.PLAYER_IMPRESSION]=["player_impressiom"],r.prototype.buildTrackerUrl=function(t,e,i){var r=n.HOST_TRACKER+"/?ap=smptf";return r+="&it="+this._integrationId,r+="&tp="+t,r+="&pb="+e,r+="&pos="+this._position,i="number"==typeof i?i:0,r+="&loop="+i},r.prototype.getPBFromPriority=function(t){return n.SM_PRIORITY.SUN_MEDIA===t?1:0},r.prototype.setPBType=function(t){var e,i=this._videoTrackers;for(f in i)if(i[f]&&i[f].urlList&&i[f].urlList.length>0)for(e=i[f].urlList,g=0;g<e.length;g++){e[g].indexOf("pbt=")>-1?e[g]=e[g].replace(/(pbt=(\w))/,"pbt="+t.trafficType.substr(0,1).toLowerCase()):e[g]+="&pbt="+t.trafficType.substr(0,1).toLowerCase();var r="";"sm"!==t.type?r+="d":r+="s",r+=t.mode.substr(0,1).toLowerCase(),r+=t.device.substr(0,1).toLowerCase(),r+=t.position,e[g].indexOf("pbid=")>-1?e[g]=e[g].replace(/(pbid=(\w\w\w\d))/,"pbid="+r):e[g]+="&pbid="+r}},r.prototype.initVideoTracker=function(t,e){this._videoTrackers={};var i=this.getPBFromPriority(t),r=this.getVideoTrackers();for(var n in r)if(r.hasOwnProperty(n))for(var s=r[n],o=this.buildTrackerUrl(n,i,e),d=0;d<s.length;d++){var c=s[d],l=new a(c);l.addUrl(o),this._videoTrackers[c]=l}},r.prototype._isFireAlways=function(t){return this.isClickTracker(t)},r.prototype._fireTracker=function(t,e){if(this.trackerenabled&&(this._defaultTracker.check(e),t&&t.hasOwnProperty(e))){var i=t[e];if(!i.hasBeenFired()||this._isFireAlways(e))return"function"==typeof this.externalLogsCallback&&this.externalLogsCallback(e),i.fire()}},r.prototype.fireVideoTracker=function(t){return this._fireTracker(this._videoTrackers,t)},r.prototype.fireCommonTracker=function(t){return this._fireTracker(this._commonTrackers,t)},r.prototype.fireOpportunity=function(){return this.fireCommonTracker(r.OPPORTUNITY_TRACKER_NAME)},r.prototype.fireContainerSizeError=function(){return this.fireCommonTracker(r.CONTAINER_SIZE_ERROR_TRACKER_NAME)},r.prototype.fireRequest=function(){return this.fireCommonTracker(r.REQUEST_TRACKER_NAME)},r.prototype.fireEffective=function(){return this.fireCommonTracker(r.EFFECTIVE_TRACKER_NAME)},r.prototype.fireViewAbility=function(){return this.fireCommonTracker(r.VIEW_ABILITY_TRACKER_NAME)},r.prototype.fireUnfilled=function(t,e){var i=this.getKEYS(),n=new a(r.UNFILLED_TRACKER_NAME);if(t&&n.addUrl(this.buildTrackerUrl(i.UNFILLED,1)),e&&n.addUrl(this.buildTrackerUrl(i.UNFILLED,0)),!n.hasBeenFired())return n.fire()},r.prototype.getKEYS=function(){return this.constructor.KEYS||r.KEYS},r.prototype.getCommonTrackers=function(){return this.constructor.COMMON_TRACKER_CHOICES||r.COMMON_TRACKER_CHOICES},r.prototype.getVideoTrackers=function(){return this.constructor.VIDEO_TRACKER_COLLECTION||r.VIDEO_TRACKER_COLLECTION},r.prototype.isValidTracker=function(t,e){return this.getVideoTrackers()[t].indexOf(e)>-1},r.prototype.isSkipTracker=function(t){var e=this.getKEYS();return this.isValidTracker(e.SKIP,t)},r.prototype.isClickTracker=function(t){var e=this.getKEYS();return this.isValidTracker(e.CLICK,t)},r.prototype.isImpressionTracker=function(t){var e=this.getKEYS();return this.isValidTracker(e.IMPRESSION,t)},r.prototype.isVideoStartTracker=function(t){var e=this.getKEYS();return this.isValidTracker(e.VIDEO_START,t)},r.prototype.isBillingTracker=function(t){return this.isImpressionTracker(t)||this.isVideoStartTracker(t)},r.prototype.updateTracker=function(t){var e,i=[{k:"system",l:"AdSystem",value:""},{k:"title",l:"AdTitle",value:""},{k:"category",l:"Category",value:""},{k:"advertiser",l:"Advertiser",value:""},{k:"pricing",l:"Pricing",value:""},{k:"servingid",l:"AdServingId",value:""}];for(e=0;e<i.length;e++){var r="";try{r=t.getElementsByTagName(i[e].l)[0].textContent.trim()}catch(t){}i[e].value=r}this._defaultTracker.updateAdMacro(i)},t.exports=r},function(t,e){function i(t){this.name=t,this._init_()}i.prototype._init_=function(){this.counter=0,this.urlList=[]},i.prototype.reset=function(){this._init_()},i.prototype.hasBeenFired=function(){return this.counter>0},i.prototype.addUrl=function(t){this.urlList.push(t)},i.prototype._parseUrlToTrigger=function(t){if(t){var e=t.indexOf("&amp;")>-1?t.replace(/&amp;/g,"&"):t;return e.indexOf("videoplaza")>-1&&e.indexOf("s=")>-1?e.replace(/%2F/g,"/"):e}return!1},i.prototype.fire=function(){var t=this;return this.urlList.forEach(function(e){var i=t._parseUrlToTrigger(e);i&&((new Image).src=i)}),this.counter++,this},i.prototype.indexOfUrl=function(t){for(var e=0;e<this.urlList.length;e++)if(-1!==this.urlList[e].indexOf(t))return e;return-1},i.prototype.removeUrl=function(t){var e=this.indexOfUrl(t);e>-1&&this.urlList.splice(e,1)},t.exports=i},function(t,e){function i(t){this.keys=["opportunity","effective","request","impression","complete","firstquartile","midpoint","thirdquartile","click"],this.defaultTrackers=t}i.prototype.check=function(t){if(this.defaultTrackers&&this.defaultTrackers.length>0)for(var e=0;e<this.defaultTrackers.length;e++)this.defaultTrackers[e].event!==this.getKey(t)||this.defaultTrackers[e].fired||this._fire(this.defaultTrackers[e])},i.prototype.updateAdMacro=function(t){if(this.defaultTrackers&&this.defaultTrackers.length>0)for(var e=0;e<this.defaultTrackers.length;e++)if(t)for(var i=0;i<t.length;i++){var r="[ad."+t[i].k+"]",n=t[i].value;this.defaultTrackers[e].data=this.defaultTrackers[e].data.replace(r,n)}},i.prototype.getKey=function(t){for(var e=0;e<this.keys.length;e++)if(this.keys[e].toLowerCase()===t.toLowerCase()||t.toLowerCase().indexOf(this.keys[e])>-1)return this.keys[e].toLowerCase();return""},i.prototype._fire=function(t){try{switch(t.type.toLowerCase()){case"image":(new Image).src=t.data;break;case"script":var e,i,r=document.createElement("div");if(r.innerHTML=t.data,(e=r.getElementsByTagName("script"))&&e.length>0){for(var n=0;n<e.length;n++)i=document.createElement("script"),e[n].src?i.src=e[n].src:window.eval(e[n].innerHTML);document.getElementsByTagName("head")[0].appendChild(i)}break;case"html":var a=document.createElement("div");a.innerHTML=t.data,document.body.appendChild(a)}}catch(n){}t.fired=!0},t.exports=i},function(t,e,i){function r(t,e,i,r,m,f){(i=l.extend({skip:!0,skipTime:20,autoplay:!0,audio:!1,prefetch:!1},i)).autoplay=!1,this.config=i,this.api=f,this.muted=!i.audio,this._skip=this.config.skip;var v=this;this.playBackIntervalName="playBackTimer",this.intervalManager=new a,this.release="4.1",this.files=n.SDK_ICO_PATH,this.volumeSwitched=!1,this.adCurrentTime=0,this.mainWidth=0,this.mainHeight=0,this.ava_enabled=!1,this.state="init",this.plugin=t,this.device=r,this.isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),this.oversafari="init",this.win=m,this.cssfiles=l.memoize(l.getBasePathMainJS)()+"css/";var g="number"!=typeof i.initialWidth?Math.round(e.getBoundingClientRect().width):i.initialWidth,y=Math.round(360*g/640),S={supplyChain:i.supplyChain,gdprApplies:i.gdprApplies,consentData:i.consentData,category:encodeURIComponent(i.category),height:y,width:g};v.urlFeed=new c(S),v.w=g,v.h=y,v.isWebView=s.isWebView();var T=v.isWebView?"hidden":"visible";this.toggleVolume=function(){this._setVolume(!this.muted)},this.onMouseEnter=function(){this._setVolume(!1)},this.onMouseLeave=function(){this._setVolume(!0)},this._setVolume=function(t){this.setVolume(t),this.volumeSwitched=!0},this.setVolume=function(t,e){if(!this.vast||!this.adCurrentTime||"playing"!==this.state&&!0!==this.isAdFactory)return!1;if(this.muted=t,e=void 0!==e?e:1,"playing"===this.state||"paused"===this.state){this.vast.setVolume(this.muted?0:e),this.adPlayer.volume=t?0:e;var i=this.muted?"on":"off";this.adVolume.style.backgroundImage="url('"+this.files+"sound-"+i+".png')"}},this.loadTag=function(t,e){v.urlFeed.addMultiformatUrls(t,e,this.device)},this.setTagPriority=function(t){v.urlFeed.setTagPriority(t)},this.setTagPriorityToSunMedia=function(){v.urlFeed.setTagPriorityToSunMedia()},this.start=function(){v.platformAdImpressionEmitted=!1,v._urlFeedBlockHasBeenChanged=!1,v.urlFeed.reset(),v.vast=new h(v.plugin,v.adVpaid,v.adPlayer,"",v.urlFeed,i,v.device,f),v.vast.addListener("all",v),this.addStyleSheet(),SMCurrentPlayer=this,this.auxBanner.style.display="none",this.adPlayer.style.display="block";try{this.vast.getVastRequest()}catch(t){l.debug(t,l.debugLevel.ERROR)}},this.startMobile=function(){"prefetch"===this.state&&this.vast.loadAd()},this.addStyleSheet=function(){var t=this.device.desktop()?"SMPlayer_d":"SMPlayer_m";if(!this.win.document.getElementById(t)){var e='<link id="'+t+'" href="'+(n.SDK_CSS_PATH+"SMVast/"+t+".css")+'" rel="stylesheet" type="text/css">';this.win.document.head.insertAdjacentHTML("beforeend",e)}},this.blockerOnClick=function(){this.vast&&this.vast.clickVastVideo()},this.prepareCreative=function(){var t=v.vast.mediaFileSelected&&v.vast.mediaFileSelected["@width"]?v.vast.mediaFileSelected["@width"]:640,e=v.vast.mediaFileSelected&&v.vast.mediaFileSelected["@height"]?v.vast.mediaFileSelected["@height"]:360;v.ratio=Math.round(100*v.getRatio(t,e))/100,v.creativeHeightOut=0;var i,r=this.vast.currentTagUrl;switch(r.indexOf("nvvtlsm")>-1&&(i=parseInt(r.substr(r.indexOf("nvvtlsm=")+8,1),10))&&1===i&&(v.ratio=1.77),v.ratio){case 1.77:v.creativeHeightOut=360*v.w/640,v.creativeType="normal";break;case 1.33:v.creativeHeightOut=360*v.w/480,v.creativeType="square";break;case.56:v.creativeHeightOut=540*v.w/304,v.creativeType="vertical";break;case.57:v.creativeHeightOut=576*v.w/326,v.creativeType="vertical";break;default:v.creativeHeightOut=360*v.w/640,v.creativeType="normal"}},this.on=function(t,e){switch(t){case"AdLoaded":e&&e.width&&e.height&&(v.w=e.width,v.h=e.height),this.prepareCreative(),"vertical"===v.creativeType&&(this.adPlayer.style.backgroundColor="transparent",v.emit(n.EVENTS.SM.UPDATE_CONFIG_OPTIONS,{ava:!1}),this.adPlayer.parentNode.className="SMMaximize_"+this.api);break;case"AdStarted":if("vertical"===v.creativeType&&v.emit(n.EVENTS.AD_FACTORY,{provider:"Creative",type:v.creativeType,width:this.w,height:v.creativeHeightOut,responsive:!0}),this.adPlayer.style.backgroundColor="#000",v.isWebView&&(v.adPlayer.style.visibility="visible"),v.toggleButtons("block"),v.vast.isVPAID)try{if("mobile"===v.device.mobileDesktop)v.adPlayer.onclick&&"function"==typeof v.adPlayer.onclick&&-1===v.adPlayer.click.toString().indexOf("[native code]")?(v.adVpaid.style.zIndex=0,v.blocker.style.zIndex=0):v.adPlayer.click&&"function"==typeof v.adPlayer.click&&-1===v.adPlayer.click.toString().indexOf("[native code]")?(v.adVpaid.style.zIndex=0,v.blocker.style.zIndex=0):!1===v.checkVpaidContainer()?(v.adVpaid.style.zIndex=0,v.blocker.style.zIndex=0):(v.adVpaid.style.zIndex=3,v.blocker.style.zIndex=0);else{v.adVpaid.style.zIndex=3,v.blocker.style.zIndex=0;var r=document.createElement("style");r.innerHTML="body { cursor: pointer !important;}body * { cursor: pointer !important;}";var a=document.getElementById("SMVPAIDContainer_"+f).getElementsByTagName("iframe"),s=function(t){var e;for(e=0;e<t.length;e++){var i=t[e];if(!i.src||-1===i.src.indexOf("http")&&-1===i.src.indexOf(".js"))try{i.contentWindow&&(i.contentWindow.document.getElementsByTagName("head")[0].appendChild(r),i.contentWindow.document.getElementsByTagName("iframe").length>0&&s(i.contentWindow.document.getElementsByTagName("iframe")))}catch(t){}}}}s(a)}catch(t){}else v.vast.IMA?(v.adVpaid.style.zIndex=0,v.blocker.style.zIndex=0):v.vast.isYoutube?(v.adVpaid.style.zIndex=3,v.blocker.style.zIndex=3,v.blocker.onclick=this.blockerOnClick.bind(this)):(v.adVpaid.style.zIndex=0,v.blocker.style.zIndex=3,v.blocker.onclick=this.blockerOnClick.bind(this));v.initButtons(),v.state="playing",p.isAMP()||v.checkFrames(),v.emit("AdPlaying"),v._setPlayBackTimerInterval(),v.isSelectedTag=o.isSelectedTag(v.vast.currentTagUrl,v.device.mobileDesktop),!0===v.isSelectedTag?(v.config.skip=!1,setTimeout(function(){v.setVolume(!1,.001)},2e3)):v.muted||setTimeout(function(){v.setVolume(!1)},1e3);break;case"NoVideoReminderImpression":this.platformAdImpressionEmitted||(this.emit(n.EVENTS.SM.TRACKER,n.TRACKERS.AD_IMPRESSION),this.platformAdImpressionEmitted=!0);break;case"AdSkipped":case"AdVideoComplete":case"AdError":this.config.skip=this._skip,this.isAdFactory=!1,this.disableButtons=!1,v.toggleButtons("none"),this.adPlayer.style.backgroundColor="transparent",this.adPlayer.style.display="block";break;case"AdComplete":!0===e.fireUnfilledTrackers&&v.emit(n.EVENTS.SM.UNFILLED);var d=!1;if(0===e.playedAdsCount&&i.pod&&!v._urlFeedBlockHasBeenChanged&&(v._urlFeedBlockHasBeenChanged=!0,v.urlFeed.changeFeedList())){d=!0,v.emit(n.EVENTS.SM.TAGS_BLOCK_CHANGED);try{v.vast.getVastRequest()}catch(t){l.debug(t,l.debugLevel.ERROR)}}if(d)return;v.toggleButtons("none"),this.adPlayer.style.backgroundColor="transparent",v._stopPlayBackTimerInterval(),v.fullscreen&&"smpvplayer"!==this.plugin&&this.exitFullscreen(),v.vast=null;break;case"AdClickThru":v.pauseAd(),e&&e[0]&&e[0].playing&&setTimeout(function(){l.setWindowFocusDetection(v.checkWindowFocus)},500);break;case"AdPaused":if("end"===v.state)return;v.state="paused",v.setPlayBtnDisplay("block"),v._stopPlayBackTimerInterval();break;case"AdPlaying":if("end"===v.state)return;v.state="playing","first"!==v.oversafari&&v.setPlayBtnDisplay("none"),this.adPlayer.style.backgroundColor="#000",v._setPlayBackTimerInterval();break;case"AdDurationChange":break;case"AdEnded":if(this.config.skip=this._skip,0===e.playedAdsCount&&i.pod&&!v._urlFeedBlockHasBeenChanged)return;v.state="end",v.toggleButtons("none");break;case"SMImaLoaded":break;case"AdVideoStart":v.state="playing";break;case"AdPrefetch":v.state="prefetch";break;case"AdRemainingTimeChange":break;case"AdVideoFirstQuartile":this.emitBillingTrackers();break;case n.EVENTS.SM.UPDATE_CONFIG_OPTIONS:e.hasOwnProperty("sound")&&(v.smAudioOn=e.sound),e.hasOwnProperty("skip")&&(v.config.skip=e.skip);break;case n.EVENTS.AD_FACTORY:this.onAdFactory(e);break;case n.EVENTS.AD_FACTORY_IMPRESSION:this.emitBillingTrackers()}v.emit(t,e)},this.checkVpaidContainer=function(){var t,e,i=this.win.document.getElementById("vpaid_creative_"+f),r=!1;if(i&&(t=i.contentWindow.document.body)&&t.childNodes&&t.childNodes.length>0)for(e=0;e<t.childNodes.length;e++)if(t.childNodes[e]&&t.childNodes[e].tagName&&"script"!==t.childNodes[e].tagName.toLowerCase()){r="ias-ad"!==t.childNodes[e].tagName.toLowerCase();break}return r},this.getRatio=function(t,e){return t/e},this.checkFrames=function(){try{var t=e.getElementsByTagName("iframe");if(t&&t.length>0)for(var i=0;i<t.length;i++)"absolute"!==t[i].style.position&&(t[i].style.position="absolute"),t[i].style.top="0px",t[i].style.left="0px",t[i].style.width=this.adPlayer.offsetWidth+"px",t[i].style.height=this.adPlayer.offsetHeight+"px"}catch(t){}},this.exitFullscreen=function(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},this.requestFullscreen=function(){var t=e;t.requestFullScreen?t.requestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen&&t.webkitRequestFullscreen()},this.onFullscreenChange=function(){var t,i,r;this.fullscreen?(this.fullscreen=!1,t="on",d.removeClassFromElement(e,"fullscreenOn"),this.emit(n.EVENTS.SM.PLAYER_FULLSCREEN_EXIT)):(this.fullscreen=!0,e.className="fullscreenOn",r=360*(i=window.innerWidth)/640,t="out",this.resize(i,r,"fullscreen")),this.fullscreenBtn.style.backgroundImage="url('"+this.files+"fullscreen-"+t+".png')"},this.setCreativeSize=function(t,e,i){this.ratio=i,this.mainWidth=t,this.mainHeight=e,this.mainAvaWidth=400,this.mainAvaHeight=400*e/t},this.removeCurrentAd=function(){this.adPlayer.src="";try{this.adVpaid.firstChild.style.display="none"}catch(t){}},this.doRestart=function(){this.vast&&this.vast.requestTracker&&(this.vast.requestTracker=!1),this.emit("AdReplay"),this.start(),this.platformAdImpressionEmitted=!1,this.adPlayer.style.display="block"},this.displayRestart=function(t){var e=this.auxBanner,i=document.createElement("div");if(i.className="replay",this.restartButton=i,i.onclick=function(){i.style.display="none",v.doRestart()}.bind(this),e.appendChild(i),t){var r=document.createElement("div");r.setAttribute("id","closeButton"),r.setAttribute("class","closeButton"),r.onclick=function(){i.style.display="none",e.removeChild(r),t()},r.style.display="block",e.appendChild(r)}this.adPlayer.style.display="none",this.auxBanner.style.display="block"},this.resize=function(t,i,r,n){if("playing"!==this.state&&"paused"!==this.state&&!n)return!1;if(parseInt(t,10)&&parseInt(i,10))return r=r||"normal",this.h=i,this.w=t,e.height=i,e.style.height=i+"px",e.width=t,e.style.width=t+"px",this.vast&&this.vast.resizeAd(t,i,r),i},this.pauseAd=function(){try{this.vast.pauseAd()}catch(t){}try{this.videoHasSource(v.adPlayer)&&this.adPlayer.pause()}catch(t){}},this.resumeAd=function(){try{v.vast.resumeAd()}catch(t){}try{v.adPlayer.paused&&this.videoHasSource(v.adPlayer)&&v.adPlayer.play()}catch(t){}},this.videoHasSource=function(t){if(!t)return!1;if(t.src)return!0;var e=t.getElementsByTagName("source");if(e)for(var i=0;i<e.length;i++)if(e[i]&&e[i].src)return!0;return!1},this.checkWindowFocus=function(t){"visible"===document.visibilityState&&(l.removeWindowFocusDetection(),v.resumeAd())},function(){var t=function(t,e){var i=document.createElement(t);for(var r in e)e.hasOwnProperty(r)&&i.setAttribute(r,e[r]);return i},i=v.plugin+"_Player_"+f,r=e;if(r.innerHTML='<video id="'+i+'" class="SMPlayer" style="visibility: '+T+'" autoplay muted playsinline webkit-playsinline></video>',v.adPlayer=v.win.document.getElementById(i),!v.adPlayer)try{v.adPlayer=v.win.parent.document.getElementById(i),v.adPlayer&&(v.win=v.win.parent)}catch(t){}v.adPlayer||v.emit("AdError"),v.adVpaid=r.appendChild(t("div",{id:v.plugin+"_vpaid_"+f,class:"SMPlayer_vpaid"})),v.blocker=r.appendChild(t("div",{id:v.plugin+"_blocker_"+f,class:"SMPlayer_blocker"})),v.adVolume=r.appendChild(t("div",{id:v.plugin+"_Audio_"+f,class:"SMPlayer_Audio"})),v.fullscreenBtn=r.appendChild(t("div",{id:v.plugin+"_Resize_"+f,class:"SMPlayer_Resize"})),v.skipBtn=r.appendChild(t("div",{id:v.plugin+"_Skip_"+f,class:"SMPlayer_Skip"})),v.remaining=r.appendChild(t("div",{id:v.plugin+"_remaining_"+f,class:"SMPlayer_remaining"})),v.label=r.appendChild(t("div",{id:v.plugin+"_label_"+f,class:"SMPlayer_label"})),v.playBtn=r.appendChild(t("div",{id:v.plugin+"_playBtn_"+f,class:"SMPlayer_playBtn"})),v.auxBanner=r.appendChild(t("div",{id:v.plugin+"_AuxBanner_"+f,class:"SMAuxBanner"})),v.adVolume.onclick=v.toggleVolume.bind(v),v.adPlayer.addEventListener("playing",function(){try{v.vast&&!v.vast.clientStarted&&this.pause()}catch(t){}},!1),v.playBtn.onclick=function(){v.setPlayBtnDisplay("none"),v.oversafari="done",v.resumeAd()},v.label.onclick=function(){},v.fullscreenBtn.onclick=function(){v.fullscreen?v.exitFullscreen():v.requestFullscreen()};var n=["fullscreenchange","mozfullscreenchange","webkitfullscreenchange"];for(var a in n)document.addEventListener(n[a],v.onFullscreenChange.bind(v),!1)}(),l.extend(this,new u)}var n=i(6),a=i(12),s=i(17),o=i(8),d=i(7),c=i(18),l=i(3),h=i(22),u=i(31),p=i(21);r.prototype.setPlayBtnDisplay=function(t){!0!==this.disableButtons&&(this.playBtn.style.display=t)},r.prototype._updateButtons=function(t,e,i){try{var r=Math.round(100*e/t);r||(r=1);var n=this.remaining.querySelector("#SMPlayer_bar_"+this.api),a=n.getAttribute("r"),s=(100-r)/100*(Math.PI*(2*a));if(n.style.strokeDashoffset=-1*s,this.remaining.querySelector("#SMPlayer_Currenttime_"+this.api).textContent=isNaN(i)?0:i,this.config.skip&&e>=this.config.skipTime&&(!this.skipBtn.style.display||"none"===this.skipBtn.style.display)){this.skipBtn.style.display="block",this.skipBtn.style.cursor="pointer";var o=this;o.skipBtn.onclick=function(){o.skipBtn.style.display="none",o.vast.skipAd()}}}catch(t){}},r.prototype._updatePlayTimer=function(){try{if(this.vast){if(this.isAdFactory&&"playing"!==this.state&&this.adCurrentTime>2)return;var t=this.vast.getDuration(),e=this.vast.getRemainingTime(),i=t-e;this.duration=t,this.adCurrentTime=i,e<this.duration&&0===this.adCurrentTime?this.emit("AdRemainingTimeChange",e):this.emit("AdRemainingTimeChange",this.adCurrentTime),this.vast&&!0!==this.disableButtons&&this._updateButtons(this.duration,this.adCurrentTime,e),this.adCurrentTime>2&&this.emitBillingTrackers()}}catch(t){}},r.prototype.emitBillingTrackers=function(){this.platformAdImpressionEmitted||(this.vast.setStart(),this.emit(n.EVENTS.SM.TRACKER,n.TRACKERS.AD_IMPRESSION),this.emit(n.EVENTS.SM.TRACKER,n.TRACKERS.AD_VIDEOSTART),this.platformAdImpressionEmitted=!0)},r.prototype.initButtons=function(){!0!==this.disableButtons&&(this.remaining.style.display="block");var t=this.plugin+"_svg_"+this.api,e=this.plugin+"_bar_bg_"+this.api;this.remaining.innerHTML='<svg id="'+t+'" preserveAspectRatio="xMidYMid" viewport="0 0 100 100" viewBox="0 0 34 34">\t      <defs><linearGradient id="gradient_bg" x1="0%" x2="100%" y1="100%" y2="0%">\t        <stop offset="0%" stop-color="#333" stop-opacity="0.3"></stop>\t        <stop offset="100%"  stop-color="#333" stop-opacity="0"></stop>\t      </linearGradient></defs>\t      <circle id="'+e+'" r="12" cx="17" cy="17" stroke="url(#gradient_bg)" fill="#333" fill-opacity="0.2">\t      </circle>\t      <circle id="SMPlayer_bar_'+this.api+'" r="12" cx="17" cy="17" stroke="#F49831" fill-opacity="0"></circle>\t      <text id="SMPlayer_Currenttime_'+this.api+'" \t        style="font-size:10px;fill:#ffffff" text-anchor="middle" y="21" x="17">0</text>\t    </svg>'},r.prototype.toggleButtons=function(t){if(!0!==this.disableButtons)for(var e="none"===t?[this.adVolume,this.fullscreenBtn,this.skipBtn,this.remaining,this.label,this.playBtn]:[this.adVolume,this.fullscreenBtn,this.remaining,this.label],i=0;i<e.length;i++)"mobile"===this.device.mobileDesktop&&e[i]===this.fullscreenBtn||(e[i].style.display=t);"smpvplayer"===this.plugin&&(this.fullscreenBtn.style.display="none")},r.prototype.onAdFactory=function(t){"SM"===t.provider&&(this.isAdFactory=!0,this.toggleButtons("none"),this.adPlayer.style.display="none","Video"!==t.type?this.disableButtons=!0:(this.disableButtons=!1,this.label.style.left="1.5%",this.skipBtn.style.left="10%"),this.vast.adFactoryInitialize(this.plugin))},r.prototype._setPlayBackTimerInterval=function(){this.intervalManager.addInterval(this.playBackIntervalName,this._updatePlayTimer.bind(this),1e3)},r.prototype._stopPlayBackTimerInterval=function(){this.intervalManager.stopInterval(this.playBackIntervalName)},t.exports=r},function(t,e){(function(e){function i(t){return-1!==window.uAgent.indexOf(t)}function r(){return i("windows")}function n(){return r()&&i("phone")}function a(){return r()&&i("touch")&&!n()}function s(){return i("ipod")}function o(){return i("ipad")}function d(){return!r()&&i("iphone")}function c(){return!r()&&i("android")}function l(){return c()&&i("mobile")}function h(){return c()&&!i("mobile")}function u(){return i("blackberry")||i("bb10")||i("rim")}function p(){return u()&&!i("tablet")}function m(){return u()&&i("tablet")}function f(){return(i("(mobile;")||i("(tablet;"))&&i("; rv:")}function v(){return f()&&i("mobile")}function g(){return f()&&i("tablet")}function y(){return i("meego")}function S(){return l()||d()||s()||n()||p()||v()||y()}function T(){return o()||h()||m()||a()||g()}function A(t){var e=t.split(/[\._]/);return(parseInt(e[0],10)||0)+"."+(parseInt(e[1],10)||0)+"."+(parseInt(e[2],10)||0)}function E(t,e){var i=function(e){try{return A(t.split(e)[1].trim().split(/[^\w\.]/)[0])}catch(t){}return"0.0.0"};switch(e){case"Chrome for iOS":return i("CriOS/");case"Edge":return i("Edge/");case"Chrome":return i("Chrome/");case"Firefox":return i("Firefox/");case"Silk":return i("Silk/");case"AOSP":return i("Version/");case"IE":return i(/IEMobile/.test(t)?"IEMobile/":/MSIE/.test(t)?"MSIE ":"rv:");case"Safari":return i("Version/");case"WebKit":return i("WebKit/")}return"0.0.0"}function b(t){switch(!0){case/Android/.test(t):return"Android";case/iPhone|iPad|iPod/.test(t):return"iOS";case/Windows/.test(t):return"Windows";case/Mac OS X/.test(t):return"Mac";case/CrOS/.test(t):return"Chrome OS";case/Firefox/.test(t):return"Firefox OS"}return""}function k(t){var e=/Android/.test(t);switch(!0){case/CriOS/.test(t):return"Chrome for iOS";case/Edge/.test(t):return"Edge";case e&&/Silk\//.test(t):return"Silk";case/Chrome/.test(t):return"Chrome";case/Firefox/.test(t):return"Firefox";case e:return"AOSP";case/MSIE|Trident/.test(t):return"IE";case/Safari\//.test(t):return"Safari";case/AppleWebKit/.test(t):return"WebKit"}return""}function w(){return!("fullscreenEnabled"in document||"webkitFullscreenEnabled"in document)}function I(){return!("requestFileSystem"in e||"webkitRequestFileSystem"in e)}window.uAgent=window.navigator.userAgent.toLowerCase(),t.exports={isIpad:o,isIphone:d,isAndroid:c,isWindows:r,isWebView:function(){var t=window.navigator.userAgent,e=b(t),i=k(t),r=E(t,i);switch(e+i){case"iOSSafari":return!1;case"iOSWebKit":return w();case"AndroidAOSP":return!1;case"AndroidChrome":return parseFloat(r)>=42?/; wv/.test(t):!!/\d{2}\.0\.0/.test(r)||I()}return!1},isMobile:S,isTablet:T,isDesktop:function(){return!T()&&!S()}}}).call(e,function(){return this}())},function(t,e,i){function r(t){this._macrosValues=t,this.init()}var n=i(19);r.prototype.setTagPriority=function(t){this.priority=t,this._urlList="sm"===this.priority?this._sunMediaList:this._clientList},r.prototype.init=function(){this._urlList=[],this._sunMediaList=[],this._clientList=[],this.reset()},r.prototype.reset=function(){this._currentSeqIndex=0,this._currentUrlIndex=0,this.priority&&this.setTagPriority(this.priority)},r.prototype.changeFeedList=function(){return this.priority="sm"===this.priority?"c":"sm",this.reset(),this._urlList.length>0},r.prototype.next=function(){if(this._currentSeqIndex>=this._urlList.length)return!1;this._currentUrlIndex>=this._urlList[this._currentSeqIndex].length&&(this._currentSeqIndex++,this._currentUrlIndex=0);try{var t=this._urlList[this._currentSeqIndex][this._currentUrlIndex++],e=n.parseUrl(t.url,this._macrosValues);if(e){var i=Object.assign({},t);return i.url=e,i}return this.next()}catch(t){return!1}},r.prototype.addUrlToCurrent=function(t){return this._urlList[this._currentSeqIndex].push(t)},r.prototype._formatUrl=function(t,e,i,r,n,a,s,o){e=e||1;for(var d=[],c=0;c<e;c++)d.push({url:t,wrapper:!1,passback:-1,type:i||"sm",mode:r||"vast",trafficType:a||"DIRECT",device:s||this.device,position:o||0,owner:n});return d},r.prototype.addUrl=function(t,e){this._urlList.push(this._formatUrl(t,e))},r.prototype._formatSeq=function(t,e){var i=this;return t.map(function(t){return{url:t.url,wrapper:!1,passback:-1,type:t.type,mode:t.mode||"vast",trafficType:t.trafficType||"DIRECT",device:t.device||i.device,position:t.position||0,owner:e}}).filter(function(t){return{url:t.url,type:t.type||"sm",owner:e}})},r.prototype.addSequence=function(t){this._urlList.push(this._formatSeq(t))},r.prototype._buildUrlList=function(t,e){var i=this;return("string"==typeof t?[t]:t).map(function(t){var r=typeof t;if("string"===r)return i._formatUrl(t,null,e,null,e,null,i.device);if("object"===r&&t instanceof Array)return i._formatSeq(t,e);var n=t.type||"sm",a=t.trafficType||"DIRECT",s=t.mode||"vast",o=t.device||i.device,d=t.position||0;return i._formatUrl(t.url,t.repeat,n,s,e,a,o,d)})},r.prototype.addMultiformatUrls=function(t,e,i){if(this.device=i.mobileDesktop,void 0===this.device)try{this.device=i.desktop()?"desktop":"mobile"}catch(t){}"sm"===e?this._sunMediaList=this._sunMediaList.concat(this._buildUrlList(t,e)):"c"===e&&(this._clientList=this._clientList.concat(this._buildUrlList(t,e)));for(var r=1,n=0;n<this._sunMediaList.length;n++)this._sunMediaList[n][this._currentSeqIndex].type||(this._sunMediaList[n][this._currentSeqIndex].type="sm"),this._sunMediaList[n][this._currentSeqIndex].position||(this._sunMediaList[n][this._currentSeqIndex].position=r,r++)},r.prototype.setTagPriorityToSunMedia=function(){this.setTagPriority("sm"),this._clientList=[]},t.exports=r},function(t,e,i){function r(t){var e=t.protocol+"://"+t.host;return void 0!==t.port&&(e+=":"+t.port),void 0!==t.path&&(e+=t.path),void 0!==t.query&&(e+="?"+t.query),void 0!==t.anchor&&(e+="#"+t.anchor),e}function n(t){var e=(t=t.trim()).match(/^(https?):\/\/?([^:\/\s]+)(?::(\d+))?([^#?\s]+)(?:\?([^\s#]*))?(?:#([^\s]*))?$/);return!!e&&{protocol:e[1].toLowerCase(),host:e[2],port:e[3],path:e[4],query:e[5],anchor:e[6]}}var a=i(20);t.exports={objectToQuery:function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return e.join("&")},queryToObject:function(t){var e=decodeURIComponent(t).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"');return JSON.parse('{"'+e+'"}')},composeUrl:r,decomposeUrl:n,parseUrl:function(t,e){var i=n(t);if("https"!==i.protocol)return!1;var s=r(i);return a.replace(s,e)},isIMA:function(t){return n(t).host.match(/(googleads\.g|pubads\.g|ad)\.doubleclick\.net|imasdk.googleapis.com/)}}},function(t,e,i){var r=i(21),n=/(\${)([\w_.()]+)(})/gi,a=[{macroName:"random",replaceKey:"random"},{macroName:"request.referrerurl",replaceKey:"refEncode"},{macroName:"page_category",replaceKey:"category"},{macroName:"page_category.encode",replaceKey:"categoryEncode"},{macroName:"gdpr",replaceKey:"gdprApplies"},{macroName:"gdpr_consent",replaceKey:"consentData"},{macroName:"request.width",replaceKey:"width"},{macroName:"request.height",replaceKey:"height"},{macroName:"supply_chain",replaceKey:"supplyChain"}];t.exports={replace:function(t,e){var i=Object.assign({},{categoryEncode:encodeURIComponent(e.category),refEncode:encodeURIComponent(r.isAMP()?window.context.canonicalUrl:window.location.href),random:Math.abs(Math.floor(1e9*Math.random()))},e);return t.replace(n,function(t,e,r){for(var n=0;n<a.length;n++){var s=a[n],o=s.macroName,d=s.replaceKey;if(r===o&&void 0!==i[d])return i[d]}return t})}}},function(t,e){function i(){i.prototype.isAMP=function(){return!0},i.prototype.getAMPContainerClass=function(){return"c"},i.prototype.isAMPStickyIntegration=function(){return"AMP-STICKY-AD"===window.context.container},i.prototype.requestResize=function(t,e,i){window.context.requestResize(t,e,i)},i.prototype.requestResizeUntilSuccess=function(t,e,i){this.isAMPStickyIntegration()||(this.unlisten&&this.unlisten(),this.unlisten=window.context.observeIntersection(function(){window.context.requestResize(t,e,i)}),window.context.onResizeSuccess(this.unlisten))},i.prototype.reportEntity=function(t){window.context.reportRenderedEntityIdentifier(""+t)},i.prototype.closeAd=function(){this.isAMPStickyIntegration()?window.context.noContentAvailable():n.requestResizeUntilSuccess(window.document.body.offsetWidth,0,!0)},i.prototype.getStickyAdMaxHeight=function(){return 100},i.prototype.convertSizesForStickyAd=function(t,e){var i,r,n=this.getStickyAdMaxHeight();return e>n?(r=n,i=t*n/e):(i=t,r=e),{width:i,height:r}}}function r(){for(var t=new i,e=Object.keys(Object.getPrototypeOf(t)),n=0;n<e.length;n++){var a=e[n];r.prototype[a]=function(){}}r.prototype.isAMP=function(){return!1}}var n,a=window.context&&window.context.tagName&&window.context.tagName.indexOf("AMP")>-1;n=a?new i:new r,t.exports=n},function(t,e,i){function r(t,e,i,r,y,S,T,A){var E=this;this.plugin=t,this.slot=e,this.videoSlot=i,this.options=S,this.duration=0,this.prefetch=S.prefetch||!1,this.adStack=[],this.playedAdsCount=0,this.device=T,this.reminderAd={},this.completed=!1,this.requestTracker=!1,this.fireUnfilledTrackers=!1;var b,k,w;this.blur=!1,this.wrapperlevel=0,this.api=A,this._urlFeed=y,this._trackerStack=new s,this._mainTrackerStack=new s,this.eventsListened={},this.getVastRequest=function(t){if(this.IMA=!1,this.isVPAID=!1,this.isYoutube=!1,this.clientStarted=!1,t||(t=this._urlFeed.next()),!t)return v.debug("TOTAL: "+this.playedAdsCount+" ADS PLAYED"),v.debug("AD PLAYBACK END"),void E.endExecution();E.requestTracker||(E.requestTracker=!0,E.emit("SMAdRequest")),this.currentTag=t;var e=this.getTagUrl(t);if(this.currentTagUrl=e,t.waterfall||this.emit("changeBillingPB",t),"https://novideoreminder.com/"===e)return this.playedAdsCount=1,this.startTracking(),this.emit("NoVideoReminderImpression"),void this.endExecution(this.reminderAd);this.badFormedURL=!1;try{e.indexOf("spotxchange")>-1&&-1===e.indexOf("&ad_volume")&&(e+="&ad_volume=0");a.getTag(e,null,null,function(t){E.setAd(t.body)},function(t){E._errorRequestCallback("error on request",t)})}catch(t){E._errorRequestCallback("programmatic error on request",t)}},this.setAd=function(t){if(!(t=(w=new o(t)).select("VAST Ad")).length)return b||(E.fireUnfilledTrackers=!0),void(0!==this.wrapperlevel?(this.wrapperlevel=0,b&&E._trackerStack.removeVideoPlazaFromErrorTracker(),E.fireTracker("AdError"),E._trackerStack.reset(),this.loadAd()):this.loadAd());try{for(var e=0;e<t.length;e++){var i;if((i=w.select("InLine",t[e])).length)this.updateSDKOptionsFromTag(t[e],w),this.adReady(i[0]);else if((i=w.select("Wrapper VASTAdTagURI",t[e])).length){this.updateSDKOptionsFromTag(t[e],w);var r=w.toJson(i)[0].VASTAdTagURI.$,n=this._urlFeed.addUrlToCurrent({url:r,wrapper:!0,device:this.device.mobileDesktop,trafficType:this.currentTag.trafficType||"DIRECT",owner:this.currentTag.owner||"sm",type:this.currentTag.type||"sm",mode:this.currentTag.mode||"vast",position:this.currentTag.position||1,waterfall:this.currentTag.waterfall||0});this.badFormedURL=!1===n;var a=w.select("Impression",t[e]);for(var s in a)a.hasOwnProperty(s)&&this._trackerStack.addImpressionTracker(w.toJson(a)[s].Impression.$);var d=w.select("Error",t[e]);for(var c in d)d.hasOwnProperty(c)&&this._trackerStack.addErrorTracker(w.toJson(d)[c].Error.$);var l=w.toJson(w.select("Creative Linear Tracking",t[e]));this._trackerStack.addTrackingEvents(l);var h=w.toJson(w.select("Creative Linear ClickTracking",t[e]));for(var u in h)h.hasOwnProperty(u)&&this._trackerStack.addClickThroughTracker(h[u].ClickTracking.$);var p=w.toJson(w.select("Creative Linear ClickThrough",t[e]));p&&p.length>0&&(this.ClickThrough=p[0].ClickThrough.$),this.wrapperlevel=1;var m=w.toJson(w.select("Creative CompanionAds Companion",t[e]));if(m.length)for(var f=m.map(function(t){return t.Companion}),v=0;v<f.length;v++)"SM_companion"===f[v]["@label"]&&(this.reminderAd[f[v]["@id"]]=f[v]);this.getVastRequest()}else this.loadAd()}}catch(t){if(!(t instanceof g))throw t;t.dump()}},this.setAdWaterfall=function(t){if(t)try{if(t.inLine)this.adReadyInLineWt(t.inLine);else if(t.wrapper){this.getTrackersFromWaterfallAd(t.wrapper);var e={url:t.wrapper.vastadTagURI,device:this.device.mobileDesktop,trafficType:this.currentTag.trafficType||"DIRECT",owner:this.currentTag.owner||"sm",type:this.currentTag.type||"sm",mode:this.currentTag.mode||"vast",position:this.currentTag.position||1,waterfall:!0};this.getVastRequest(e)}else this.loadAd()}catch(t){if(!(t instanceof g))throw t;t.dump()}else 0!==this.wrapperlevel?(this.wrapperlevel=0,E.fireTracker("AdError"),E._trackerStack.reset(),this.loadAd()):this.loadAd()},this.makeCustomVPCreative=function(t){},this.adReady=function(t){this.emit(n.EVENTS.SM.UPDATE_TRACKER,t),this.isVPAID=!1,this.wrapperlevel=0;var e=w.select("Creative MediaFile",t),i=w.select("Creative InteractiveCreativeFile",t);if(!e.length&&!i.length)throw new c(101);var a=w.toJson(w.select("Impression",t));for(var s in a)a.hasOwnProperty(s)&&this._trackerStack.addImpressionTracker(a[s].Impression.$);var o=w.toJson(w.select("Error",t));for(var d in o)o.hasOwnProperty(d)&&(this.InVPAIDSunMedia?this._trackerStack.addTracker("InVpaidError",o[d].Error.$):this._trackerStack.addErrorTracker(o[d].Error.$));var v=w.toJson(w.select("Creative Linear Tracking",t));this._trackerStack.addTrackingEvents(v);var g=w.toJson(w.select("Creative Linear ClickTracking",t));for(var y in g)g.hasOwnProperty(y)&&this._trackerStack.addClickThroughTracker(g[y].ClickTracking.$);var S=w.toJson(w.select("Creative Linear ClickThrough",t));S&&S.length>0&&(this.ClickThrough=S[0].ClickThrough.$);var T=w.toJson(w.select("Creative Companion",t));if(r&&T.length){var I=T.map(function(t){return t.Companion});k=new f(I,r)}var C,_,M=w.toJson(e);if(i.length?(C=w.toJson(i)[0].InteractiveCreativeFile,_=!0):(C=this.getMediaFile(M),_=this.adIsVpaid(C)),this.prefetch&&_);else if(this.prefetch);else{var t;if(this.adIsYoutube(C))this.isYoutube=!0,t=new h(C.$,this.slot,A);else if(_){var x=w.toJson(w.select("Creative",t))[0].Creative.Linear.AdParameters;if(C.$.indexOf("passback_vpaid/passback_vpaid")>-1){b=new m(x),this.urlWaterFall=b;for(var P in this._trackerStack.trackers){var O=this._trackerStack.trackers[P];this._mainTrackerStack.addTracker(O.name,O.urlList)}return this.setAdWaterfall(b.next()),!1}this.mediaFileSelected=C,t=new u(C,x?x.$:null,this.videoSlot,"window.parent."+this.getPlugin()+".vast.currentAd.on",E.slot,E,A)}else this.mediaFileSelected=C,t=new p(new l(C.$,this.videoSlot,this.device));this.adStack.push(t)}this.isVPAID=_,this.loadAd()},this.getPlugin=function(){switch(this.plugin){case"SMIntext":return this.plugin+"_"+E.api+".players[0]";default:return"SM"+this.plugin+"."+this.plugin+"_"+E.api+".player"}},this.adReadyInLineWt=function(t){if(t.creatives&&t.creatives.creative[0]&&t.creatives.creative[0].linear){for(var e,i,r=t.creatives.creative[0]&&t.creatives.creative[0].linear.mediaFiles.mediaFile,n=[],a=0,s=0;s<r.length;s++){e={};for(var o in r[s])"value"===o?e.$=r[s][o]:e["@"+o]=r[s][o];n.push({MediaFile:e})}if(t.impression)for(a=0;a<t.impression.length;a++)this._trackerStack.addImpressionTracker(t.impression[a].value);if(t.error)for(a=0;a<t.error.length;a++)t.error[a]&&t.error[a].value&&this._trackerStack.addErrorTracker(t.error[a].value);if(t.creatives&&t.creatives.creative[0]&&t.creatives.creative[0].linear){var d;if((i=t.creatives.creative[0].linear).trackingEvents&&(d=i.trackingEvents.tracking).length>0)for(a=0;a<d.length;a++)this._trackerStack.addTrackingEvent(d[a].event,d[a].value);if(i.videoClicks){if(i.videoClicks.clickTracking&&(d=i.videoClicks.clickTracking).length>0)for(a=0;a<d.length;a++)this._trackerStack.addClickThroughTracker(d[a].value);if(i.videoClicks.customClick&&(d=i.videoClicks.customClick).length>0)for(a=0;a<d.length;a++)this._trackerStack.addClickThroughTracker(d[a].value);i.videoClicks.clickThrough&&(this.ClickThrough=i.videoClicks.clickThrough.value)}}this.mediaFileSelected=this.getMediaFile(n),this.adStack.push(new p(new l(this.getMediaFile(n).$,this.videoSlot,this.device))),this.isVPAID=!1,this.loadAd()}else{if(t.impression)for(a=0;a<t.impression.length;a++)this._trackerStack.addErrorTracker(t.impression[a].value);E.fireUnfilledTrackers=!0,this.fireTracker("AdError"),this.loadAd()}},this.loadAd=function(){k&&r&&(r.innerHTML="",k=!1),this.adStack.length>0?(this.currentAd=this.adStack.shift(),this.currentAd.addListener("all",this),this.checkStartVpaid()?this.emit(n.EVENTS.SM.NON_STARTED):this.currentAd.initAd()):this.urlWaterFall&&this.urlWaterFall.hasNext()?(this._trackerStack.reset(),this.setAdWaterfall(this.urlWaterFall.next())):(this._mainTrackerStack.reset(),this.getVastRequest())},this.checkStartVpaid=function(){if(this.IMA)return!1;for(var t=0;t<n.NON_START.length;t++)if(this.mediaFileSelected.$.indexOf(n.NON_START[t])>-1)return!0;return!1},this.adIsVpaid=function(t){return!window.SMIMA&&t&&t["@apiFramework"]&&t["@apiFramework"].match(/^vpaid$/i)||this.adIsVpaidFlash(t)||this.adIsVpaidHTML5(t)},this.adIsYoutube=function(t){var e=e=t.$.indexOf("www.youtube.com")>-1;return e};var I=function(t){return t["@mimeType"]?t["@mimeType"]:!!t["@type"]&&t["@type"]};this.adIsVpaidHTML5=function(t){var e=I(t);return e&&e.match(/application\/[x-]{0,2}javascript/)},this.adIsVpaidFlash=function(t){var e=I(t);return e&&"application/x-shockwave-flash"===e},this.getVolume=function(){return this.currentAd?this.currentAd.getVolume():0},this._setVolume=function(t){this.videoSlot.muted=0===t,this.currentAd.setVolume(t)},this.setVolume=function(t){this.currentAd&&this._setVolume(t),1===t&&this._setVolume(t)},this.resumeAd=function(){this.currentAd.resumeAd()},this.pauseAd=function(){this.currentAd.pauseAd()},this.getDuration=function(){try{var t=this.currentAd.getAdDuration();if((!(t=t&&t!==1/0?t:0)||parseInt(t,10)<=0)&&parseInt(this.videoSlot.duration,10)>0&&(t=this.videoSlot.duration),!t||parseInt(t,10)<=0){var e=this.getPlayerPlaying();e&&e.duration&&(t=parseInt(e.duration,10))}return t=Math.round(t),this.duration=t,t}catch(t){return 0}},this.getRemainingTime=function(){try{var t=this.currentAd.getAdRemainingTime();if(t=t&&t!==1/0?t:0,this.duration&&(!t&&this.videoSlot.currentTime>0&&(t=Math.round(this.duration-this.videoSlot.currentTime)),!t)){var e=this.getPlayerPlaying();e&&e.currentTime&&(t=Math.round(this.duration-parseInt(e.currentTime,10)))}return(t=Math.round(t))<0&&(t=0),this.checkVideoTrackers(t),t}catch(t){return 0}},this.resizeAd=function(t,e,i){this.currentAd&&this.currentAd.resizeAd(Math.round(t),Math.round(e),i)},this.skipAd=function(){try{E.currentAd.skipAd(),setTimeout(function(){E.skipped||E.on("AdSkipped")},1e3)}catch(t){}},this.clickVastVideo=function(t,e){if(t||E.on("AdClickThru"),e){var i=!1;"visible"===window.document.visibilityState?i=!0:window.parent&&"visible"===window.parent.document.visibilityState&&(i=!0),i&&window.open(E.ClickThrough)}else window.open(E.ClickThrough)},this.on=function(t,e){switch(t){case"AdVideoStart":E.startTracking(),E.emit("AdPlaying");break;case"AdStarted":b&&(b=null),E.startTracking(),this.setAutoPlayTerms(this.videoSlot),this.isSpotx()&&this.checkAutoPlayStart(),E.emit(t,e);break;case"AdStopped":E.stopped=!0,E.completed||(E.stopCurrentAd(),E.checkNextAd()),E.emit(t,e);break;case"AdImpression":E.fireTracker("AdImpression"),E.fireTracker("impression"),E.fireTracker("impressions"),E.fireUnfilledTrackers=!1;break;case"AdSkipped":E.skipped=!0,E.emit(t,e),E._trackerStack.reset(),E.checkNextAd();break;case"AdLoaded":E.completed=!1,E.emit(t,e);break;case"AdRemainingTimeChange":E.clearCheckAutoPlayStartIntInterval();break;case"AdVolumeChange":var i=this.getVolume();if(!i||0!==parseInt(i,10)&&1!==parseInt(i,10)){try{this.videoSlot.volume>0&&(E.emit("AdTracker","unmuted"),E.fireTracker("unmute"))}catch(t){}try{0===this.videoSlot.volume&&(E.emit("AdTracker","muted"),E.fireTracker("mute"))}catch(t){}}else 0===parseInt(i,10)?(E.emit("AdTracker","muted"),E.fireTracker("mute")):(E.emit("AdTracker","unmuted"),E.fireTracker("unmute"));E.emit(t,i);break;case"AdClickThru":E.fireTracker("clickTracking"),e&&e[0]&&"string"==typeof e[0]&&0===e[0].indexOf("http")&&(E.ClickThrough=e[0],E.clickVastVideo(!0,"vpaid")),E.emit(t,e);break;case"AdVideoComplete":if(e&&e[0]&&e[0].provider&&"SM"===e[0].provider&&!1==!!e[0].close)return void E.fireTracker(t);E.completed=!0,E.stopped?E.emit(t,e):(E.stopCurrentAd(),E.emit(t,e),E.checkNextAd());break;case"AdPaused":E.emit(t,e);break;case"AdPlaying":E.clearCheckAutoPlayStartIntInterval(),E.emit(t,e);break;case"AdError":E.isVPAID&&!E.urlWaterFall&&E.fireTracker("AdError"),E.IMA=!1,E.isVPAID=!1,E.isYoutube=!1,E.clientStarted=!1;try{E.clearCheckAutoPlayStartIntInterval()}catch(t){}this.InVPAIDSunMedia&&this._trackerStack.fireTracker("InVpaidError"),E.started?(E.removeCurrentAd(),E.emit(t,e),E.endExecution()):this.urlWaterFall&&this.urlWaterFall.hasNext()?(E.removeCurrentAd(),E.emit(t,e),E.loadAd()):e&&!e.recoverable&&(E.removeCurrentAd(),E.emit(t,e),E.loadAd());break;case"SMImaLoaded":E.emit(t,e);break;case"AdVideoFirstQuartile":E.startTracking(),E.emit(t,e);break;case"AdVideoMidpoint":E.eventsListened.AdVideoFirstQuartile||E.on("AdVideoFirstQuartile"),E.emit(t,e);break;case"AdVideoThirdQuartile":E.eventsListened.AdVideoMidpoint||E.on("AdVideoMidpoint"),E.emit(t,e);break;case n.EVENTS.AD_FACTORY:case n.EVENTS.AD_FACTORY_IMPRESSION:case n.EVENTS.AD_FACTORY_SSP_VPAID_SIZE:E.emit(t,e)}"AdError"!==t&&E.fireTracker(t),E.eventsListened[t]=!0},this.initAd=function(){if(this.currentAd)try{this.currentAd.initAd()}catch(t){}},this.startAd=function(){if(this.currentAd){this.setAutoPlayTerms(this.videoSlot),this.clientStarted=!0,this.mediaFileSelected&&this.mediaFileSelected.$&&this.isSpotx()&&(this.checkAutoPlayStartInt=setInterval(E.checkAutoPlayStart.bind(E),1));try{this.currentAd.startAd()}catch(t){}}},this.isSpotx=function(){var t=!1;if(w){var e=w.select("AdSystem",this.ad)[0];this.mediaFileSelected&&this.mediaFileSelected.$&&(t=this.mediaFileSelected.$.indexOf("spotxcdn.com")>-1||e&&"SpotXchange"===e.innerHTML||this.mediaFileSelected.$.indexOf("beta.js")>-1)}return t},this.checkAutoPlayStart=function(){try{if(this.setAutoPlayTerms(this.videoSlot),this.isVPAID);}catch(t){}},v.extend(this,new d)}var n=i(6),a=i(23),s=i(26),o=(i(28),i(29)),d=i(31),c=i(32),l=(i(33),i(34)),h=i(35),u=i(36),p=i(40),m=i(41),f=i(42),v=i(3),g=i(30);r.prototype.setAutoPlayTerms=function(t){try{t.muted||(t.muted=!0),t.autoplay||(t.autoplay=!0),t.volume>0&&(t.volume=0)}catch(t){}},r.prototype.clearCheckAutoPlayStartIntInterval=function(){try{this.checkAutoPlayStartInt&&clearInterval(this.checkAutoPlayStartInt)}catch(t){}},r.prototype.fireTracker=function(t){try{var e=this._trackerStack.getTracker(t),i=this._mainTrackerStack.getTracker(t);e&&this._trackerStack.fireTracker(t),i&&this._mainTrackerStack.fireTracker(t),this.emit("AdTracker",t)}catch(t){}},r.prototype.startTracking=function(){this.startTrck||(this.startTrck=!0,this.playedAdsCount++,this.fireTracker("AdImpression"),this.fireTracker("impression"),this.fireTracker("impressions"),this.fireTracker("AdVideoStart"),this.fireTracker("start"),this.fireUnfilledTrackers=!1)},r.prototype.setStart=function(){this.started=!0},r.prototype._errorRequestCallback=function(t,e){t=t||"",this.emit("AdTracker","request_error"),this.on("AdError",{msg:"Ad request failed: "+t,error:e})},r.prototype.getTagUrl=function(t){return t.url},r.prototype.adFactoryInitialize=function(t){try{this.currentAd.adFactoryInitialize(t)}catch(t){}},r.prototype.getTrackersFromWaterfallAd=function(t){var e=0;if(t.impression){var i=t.impression;if("object"==typeof i)for(e=0;e<i.length;e++)this._trackerStack.addImpressionTracker(i[e]);else"string"==typeof i&&this._trackerStack.addImpressionTracker(i)}if(t.error){var r=t.error;if("object"==typeof r)for(e=0;e<r.length;e++)this._trackerStack.addErrorTracker(r[e]);else"string"==typeof r&&this._trackerStack.addErrorTracker(r)}if(t.creatives&&t.creatives.creative[0]&&t.creatives.creative[0].linear){var n=t.creatives.creative[0].linear;if(n.trackingEvents&&(a=n.trackingEvents.tracking).length>0)for(e=0;e<a.length;e++)this._trackerStack.addTrackingEvent(a[e].event,a[e].value);if(n.videoClicks){var a;if(n.videoClicks.clickTracking&&(a=n.videoClicks.clickTracking).length>0)for(e=0;e<a.length;e++)this._trackerStack.addClickThroughTracker(a[e].value);if(n.videoClicks.customClick&&(a=n.videoClicks.customClick).length>0)for(e=0;e<a.length;e++)this._trackerStack.addClickThroughTracker(a[e].value)}}},r.prototype.removeCurrentAd=function(){this.currentAd&&this.currentAd.removeAd()},r.prototype.endExecution=function(t){this.started=!1;var e={};e.playedAdsCount=this.playedAdsCount,e.fireUnfilledTrackers=this.fireUnfilledTrackers||this.badFormedURL||0===this.playedAdsCount;var i=[];try{for(var r in t)t.hasOwnProperty(r)&&i.push(t[r])}catch(t){i=[]}i&&i.length>0&&(e.reminderAds=i),this.emit("AdComplete",e),this.emit("AdEnded",e),this._trackerStack.reset()},r.prototype.checkNextAd=function(){this.endExecution(this.reminderAd)},r.prototype.stopCurrentAd=function(){this.stopped=!0,this.skipped||(this.eventsListened.AdVideoThirdQuartile||this.on("AdVideoThirdQuartile"),this.started&&(this.fireTracker("complete"),this.fireTracker("AdVideoComplete"))),this._trackerStack.reset()},r.prototype.updateSDKOptionsFromTag=function(t,e){try{var i=e.select("AdTitle",t);if(i.length>0&&(i=i[0].textContent)){var r={};-1!==i.indexOf("SM_NOSKIP")&&(r.skip=!1),-1!==i.indexOf("SM_NOAVA")&&(r.ava=!1),-1!==i.indexOf("SM_AUDIOON")&&(r.sound=!0),-1!==i.indexOf("SM_NORESTART")&&(r.restart=!1),-1!==i.indexOf("InVPAID")&&(this.InVPAIDSunMedia=!0),r!=={}&&this.emit(n.EVENTS.SM.UPDATE_CONFIG_OPTIONS,r)}}catch(t){}},r.prototype.getPlayerPlaying=function(){var t=this.currentAd.vpaidModule.container.getElementsByTagName("iframe"),e=null,i=function(t){var r,n;for(r=0;r<t.length;r++)if(!t[r].src||""===t[r].src||"undefined"===t[r].src||-1===t[r].src.indexOf("http")){var a;try{(n=(a=t[r].contentWindow.document).getElementsByTagName("video")).length>0&&n[0].src.indexOf("http")>-1&&(e=n[0]),e||a.getElementsByTagName("iframe").length>0&&i(a.getElementsByTagName("iframe"))}catch(t){}}};return i(t),e},r.prototype.checkVideoTrackers=function(t){if("number"==typeof this.duration&&this.duration>=0&&"number"==typeof t&&t>=0){if(!this.quartiles){var e=Math.round(this.duration/4);this.quartiles=[e+2,2*e+2,3*e+2]}var i=this.duration-t;if(i!==this.quartiles[0]||this.eventsListened.AdVideoFirstQuartile)if(i!==this.quartiles[1]||this.eventsListened.AdVideoMidpoint)if(i!==this.quartiles[2]||this.eventsListened.AdVideoThirdQuartile){if(i>=this.duration&&this.eventsListened.AdVideoFirstQuartile&&this.eventsListened.AdVideoMidpoint&&this.eventsListened.AdVideoThirdQuartile&&!this.completed&&!this.stopped){var r=this;setTimeout(function(){r.completed||r.on("AdVideoComplete")},2500)}}else this.on("AdVideoThirdQuartile");else this.on("AdVideoMidpoint");else this.on("AdVideoFirstQuartile")}},r.prototype.filterMediaFile=function(t){var e=this.device.desktop(),i=this.device.ios(),r=[],n=[],a=[];for(var s in t)if(t.hasOwnProperty(s)){var o=t[s].MediaFile,d=o.$.split(".").pop().toLowerCase();this.adIsVpaid(o)&&(this.adIsVpaidHTML5(o)||this.adIsVpaidFlash(o))?a.push(o):this.adIsYoutube(o)?n.push(o):e?d.indexOf("mp4")>-1&&r.push(o):(d.indexOf("mp4")>-1||d.indexOf("ogg")>-1||d.indexOf("webm")>-1||d.indexOf("mov")>-1&&i)&&r.push(o)}return{youtubeFiles:n,html5Videos:r,vpaidFiles:a}},r.prototype.getMediaFile=function(t){var e,i=this.filterMediaFile(t),r=i.html5Videos,n=i.youtubeFiles,a=i.vpaidFiles;if(a.length)a.sort(function(t,e){var i=t["@type"].toUpperCase(),r=e["@type"].toUpperCase();return i<r?-1:i>r?1:0}),e=a[0];else if(r.length)if(r.sort(function(t,e){return parseFloat(t["@bitrate"])-parseFloat(e["@bitrate"])}),this.device.desktop()){e=r[0];for(var s=0;s<r.length;s++){var o=parseFloat(r[s]["@bitrate"]),d=parseInt(r[s]["@width"]),c=parseFloat(e["@bitrate"]);o&&o>=512&&o<720&&d&&d>400&&d<800&&c&&c<o&&(e=r[s])}}else e=this.device.tablet()&&1<r.length&&r.length<3?r[1]:r[0];else n.length&&(e=n[0]);return e},t.exports=r},function(t,e,i){var r=i(24),n=i(25);t.exports=function(){function t(){if(s)return new XDomainRequest;var t=new XMLHttpRequest;if(void 0===t.withCredentials&&"undefined"!=typeof XDomainRequest&&(t=new XDomainRequest,s=!0),!t)throw new SMError(102,"Run open before send");return t}function e(i,a,o,d){a=a||{},i.crossDomain=void 0===a.crossDomain||null===a.crossDomain||a.crossDomain,i.credentials=void 0===a.withCredentials||null===a.withCredentials||a.withCredentials;var c=new r(i),l=t();l.onreadystatechange=function(){if(4===l.readyState){var t=r&&r.headers&&r.headers.get?r.headers.get("X-Request-URL"):null,r={url:"responseURL"in l?l.responseURL:t,status:l.status,statusText:l.statusText,headers:l.getAllResponseHeaders()||""},a="response"in l?l.response:l.responseText,s=new n(a,r);404===l.status?"function"==typeof d&&d(new TypeError("Network request failed: Not Found")):l.status<200||400<=l.status?l.withCredentials?(r.withCredentials=!1,e(i,r,o,d)):"function"==typeof d&&d(new TypeError("Network request failed")):"function"==typeof o&&o(s)}},l.onerror=function(){},l.ontimeout=function(){"function"==typeof d&&d(new TypeError("Network request failed"))},s?l.open(c.method,c.url):l.open(c.method,c.url,!0),l.crossDomain=c.crossDomain,l.withCredentials=!0===c.credentials,c.forEachHeaders(function(t,e){l.setRequestHeader(e,t)}),l.send()}function i(t,i,r,n){return e(t,i,r,n)}function a(t,e,n,a,s){return i({url:t,method:r.METHODS.GET,headers:e},n,a,s)}var s;return{METHODS:r.METHODS,getTag:function(t,e,i,r,n){return e=e||{Accept:"*/*"},a(t,e,i,r,n)},get:a}}()},function(t,e){function i(t){this.url=t.url,this.method=i.normalizeMethod(t.method||"GET"),this.headers=t.headers||{},this.referrer=t.referrer||null,this.credentials=t.credentials||!1,this.crossDomain=!t.hasOwnProperty("crossDomain")||t.crossDomain;var e=t.body;if(("GET"===this.method||"HEAD"===this.method)&&e)throw new TypeError("Body not allowed for GET or HEAD requests")}i.prototype.forEachHeaders=function(t){for(var e in this.headers)this.headers.hasOwnProperty(e)&&t(this.headers[e],e)},i.METHODS={GET:"GET",PUT:"PUT",POST:"POST",PATCH:"PATCH",DELETE:"DELETE"},i.normalizeMethod=function(t){var e=t.toUpperCase();return i.METHODS.hasOwnProperty(e)?e:t},t.exports=i},function(t,e){t.exports=function(t,e){e=e||{},this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=e.headers,this.url=e.url||"",this.body=t}},function(t,e,i){function r(){a.call(this)}var n=i(3),a=i(27);(r.prototype=Object.create(a.prototype)).constructor=r,r.prototype.addImpressionTracker=function(t){this.addTracker("AdImpression",t)},r.prototype.addErrorTracker=function(t){this.addTracker("AdError",t)},r.prototype.addClickThroughTracker=function(t){this.addTracker("AdClickThru",t)},r.prototype.addTrackingEvent=function(t,e){var i=r.vastTrackerNameToEvent(t);this.addTracker(i,e)},r.prototype.addTrackingEvents=function(t){for(var e in t)t.hasOwnProperty(e)&&this.addTrackingEvent(t[e].Tracking["@event"],t[e].Tracking.$)},r.prototype.isStackTrackerFireable=function(t){return!t.hasBeenFired()||"clickTracking"===t.name||"AdClickThru"===t.name},r.prototype.removeVideoPlazaFromErrorTracker=function(){this.removeTrackerUrl("AdError","es-sunicontent.videoplaza.tv")},r.vastTrackerNameToEvent=function(t){var e={impressions:"AdImpression",creativeView:"AdStarted",start:"AdVideoStart",skip:"AdSkipped",acceptInvitation:"AdUserAcceptInvitation",collapse:"AdUserMinimize",close:"AdUserClose",pause:"AdPaused",resume:"AdPlaying",firstQuartile:"AdVideoFirstQuartile",midpoint:"AdVideoMidpoint",thirdQuartile:"AdVideoThirdQuartile",complete:"AdVideoComplete"};return e[t]?e[t]:t.match(/^Ad/)?void 0:"Ad"+n.strUpperFirst(t)},t.exports=r},function(t,e,i){function r(){this.trackers={}}var n=i(14);r.prototype.exits=function(t){return t in this.trackers},r.prototype.getTracker=function(t){return!!this.exits(t)&&this.trackers[t]},r.prototype.reset=function(){for(var t in this.trackers)this.trackers.hasOwnProperty(t)&&this.trackers[t].reset()},r.prototype.addTracker=function(t,e){if(this.exits(t)||(this.trackers[t]=new n(t)),e){"string"==typeof e&&(e=[e]);for(var i=0;i<e.length;i++)this.trackers[t].addUrl(e[i])}},r.prototype.removeTrackerUrl=function(t,e){this.exits(t)&&this.trackers[t].removeUrl(e)},r.prototype.isStackTrackerFireable=function(t){return!t.hasBeenFired()},r.prototype.fireTracker=function(t){if(this.exits(t)){var e=this.trackers[t];if(this.isStackTrackerFireable(e))return e.fire()}return!1},t.exports=r},function(t,e){var i=[{reg:/^description_url$/i,replace:"empty"},{reg:/^(timestamp|random(_number)?)/i,replace:"ran"},{reg:/^referrer_url$/i,replace:"ref"},{reg:/^(ref_url|request.referrerurl|urlenc\(referrerurl\))$/i,replace:"ref_encode"}],r=t.exports={validate:function(e,i){var i=r.decompose(i);return("https"!=(e=r.decompose(e)).protocol||"https"==i.protocol)&&t.exports.replaceMacros(e,i)},replaceMacros:function(t,e){if(void 0===e.query)return r.compose(e);var n={ran:Math.floor(1e9*Math.random()),ref:t.host,ref_encode:encodeURIComponent(t.host)};return e.query=e.query.replace(/(\[|%5B|%255B|7B|{|5B)([\w_\.\(\)]+)(\]|%5D|%255D|%7D|})/gi,function(t,e,r){for(k in i){var a=i[k];if(r.match(a.reg))return a.replace in n?n[a.replace]:""}}),r.compose(e)},compose:function(t){var e=t.protocol+"://"+t.host;return void 0!==t.port&&(e+=":"+t.port),void 0!==t.path&&(e+=t.path),void 0!==t.query&&(e+="?"+t.query),void 0!==t.anchor&&(e+="#"+t.anchor),e},decompose:function(t){var e=t.match(/^(https?):\/\/?([^:\/\s]+)(?::(\d+))?([^#?\s]+)(?:\?([^\s#]*))?(?:#([^\s]*))?$/);return!!e&&{protocol:e[1].toLowerCase(),host:e[2],port:e[3],path:e[4],query:e[5],anchor:e[6]}},isIMA:function(t){return(t=r.decompose(t)).host.match(/(googleads\.g|pubads\.g|ad)\.doubleclick\.net|imasdk.googleapis.com/)}}},function(t,e,i){var r=i(30);t.exports=function(t,e){e=e||"text/xml";var i;if(window.DOMParser){var n=new window.DOMParser;i=n.parseFromString(t,e)}else(i=new ActiveXObject("Microsoft.XMLDOM")).async=!1,i.loadXML(t);var a=[i.documentElement];this.toJson=function(t,e){t=t||a,e=e||1/0;return t instanceof Array?t.map(function(t){return s(t,e)}):s(v,e)},this.select=function(t,e){return e=e||i,a=Array.prototype.slice.call(e.querySelectorAll(t))};var s=function(t,e){e=e||1/0;var i=[],r=t.tagName,n={};n[r]={};var a=void 0!==t.attributes&&null!==t.attributes&&t.attributes.length,o=void 0!==t.childNodes&&null!==t.childNodes&&t.childNodes.length;if(a)for(var d=0;d<t.attributes.length;d++){var c=t.attributes.item(d);n[r]["@"+c.name]=c.value}if(e--,o&&e){for(var l=0;l<t.childNodes.length;l++){var h=t.childNodes.item(l);if(h.tagName){var u=s(h,e);if(!u)continue;n[r][h.tagName]&&n[r][h.tagName].length?n[r][h.tagName].push(u[h.tagName]):n[r][h.tagName]?n[r][h.tagName]=[n[r][h.tagName],u[h.tagName]]:n[r][h.tagName]=u[h.tagName]}else i.push(h.data.trim())}(i=i.join("")).length&&(n[r].$=i)}return n};if(this.select("parsererror").length){var o={errors:this.toJson(this.select("div")).map(function(t){return t.div.$}),vastCode:100};throw new r(104,"Parser Error",o)}return this}},function(t,e){var i=t.exports=function(t,e,r){return this.code=t||i.CODE.UNKNOWN_ERROR,e&&"string"==typeof e||(e=this.MESSAGES[this.code]),this.data=r||{},this.message=e,this.originalError=new Error(e),this.setOriginalError=function(t){return this.originalError=t,this},this.log=function(){console.error("SMError "+t+": "+e)},this.dump=function(){this.log(),console.log(r,this.originalError.stack)},this};i.MESSAGES={UNKNOWN_ERROR:"Unknown error",100:"Feature not supported",101:"Type error",102:"Precondition failed",103:"Not allowed",104:"VAST Error"}},function(t,e,i){var r=i(30);t.exports=function(){var t={};return this.addListener=function(e,i){if(!i||"function"!=typeof i&&"function"!=typeof i.on)throw new r(101,"The listener must be a function or have an on function",arguments);return"all"===e&&(e="#all"),t[e]?t[e].push(i):t[e]=[i],this.listeners=t,this},this.removeListener=function(e,i){var r=arguments.length;if("all"===e&&(e="#all"),1===r)t[e]={};else if(0===r)t={};else{var n=t[e];n.splice(n.indexOf(i),1)}return this.listeners=t,this},this.emit=function(e){var i=t[e]||[];"object"==typeof t["#all"]&&(i=i.concat(t["#all"]));var r=arguments;return i.forEach(function(t){"function"==typeof t?t(r[0],r[1]):t.on.apply(t,r)}),this},this}},function(t,e,i){var r=i(30),n=i(3);(t.exports=function(t,e,i){return n.extend(this,new r(t,e,i)),this}).MESSAGES={100:"XML parsing error.",101:"VAST schema validation error.",102:"VAST version of response not supported.",200:"Trafficking error. Video player received an Ad type \t\tthat it was not expecting and/or cannot display.",201:"Video player expecting different linearity.",202:"Video player expecting different duration.",203:"Video player expecting different size.",204:"Ad category was required but not provided.",300:"General Wrapper error."}},function(t,e,i){var r=i(3),n=i(31);t.exports=function(t,e,i,a,s,o){var d=this;return this.sdk=e,this.device=s,this.adDisplayContainer,this.adsLoader,this.status="pending",this.videoSlot=i,this.slot=a,this.adUrl=t,this.api=o,this.adUrl.indexOf("skippablelinear")&&!s.desktop()&&(this.adUrl=this.adUrl.replace("skippablelinear","linear")),this.loadingModuleTime=4e4,this.initAd=function(){var t=document.createElement("script");t.src="//imasdk.googleapis.com/js/sdkloader/ima3.js",t.main=this,t.onload=function(){this.main.apiLoaded()},t.onerror=function(){this.main.adError()},document.body.appendChild(t)},this.apiLoaded=function(){try{this.device.desktop()?(!this.videoSlot.muted&&this.videoSlot.paused&&(this.videoSlot.muted=!0),this.videoSlot.autoplay||(this.videoSlot.autoplay=!0)):(this.videoSlot.autoplay=!0,this.videoSlot.muted=!0)}catch(r){}this.emit("SMImaLoaded"),this.loadingModule=setTimeout(this.adError.bind(this,{h:"Loading timeout exceded"}),this.loadingModuleTime);var t,e,i=this.slot.getElementsByTagName("div"),r=!1;for(t=0;t<i.length;t++)i[t].id&&i[t].id==="SMIMAContainer_"+this.api&&(r=!0,e=i[t]);r||((e=document.createElement("div")).setAttribute("style","position:absolute; width:100%; height:100%;z-Index:3;top:0px;left:0px;"),e.id="SMIMAContainer_"+this.api,this.slot.appendChild(e)),this.adContainer=e,google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.INSECURE),this.adDisplayContainer=new google.ima.AdDisplayContainer(this.adContainer,this.videoSlot),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.managerEvent.bind(this),!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.adError.bind(this),!1);var n=new google.ima.AdsRequest;n.adTagUrl=this.adUrl;var a=this.adContainer.offsetWidth,s=360*this.adContainer.offsetWidth/640;n.linearAdSlotWidth=a,n.linearAdSlotHeight=s,n.nonLinearAdSlotWidth=a,n.nonLinearAdSlotHeight=s;var o=this.getAdWillAutoPlay();n.setAdWillAutoPlay(o);var d=this.getAdWillPlayMuted();n.setAdWillPlayMuted(d),this.adsLoader.requestAds(n)},this.getAdWillAutoPlay=function(){return this._getParamValue(/(vpa)(%3d|=)([\w_\.\(\)]+)/gi,!0)},this.getAdWillPlayMuted=function(){return this._getParamValue(/(vpmute)(%3d|=)([\w_\.\(\)]+)/gi,!0)},this._getParamValue=function(t,e){var i=t.exec(this.adUrl);return null!==i&&void 0!==i[3]?"1"===i[3]:e},this.managerEvent=function(t){r.debug("IMA MANAGER EVENT",r.debugLevel.INFO);var e=new google.ima.AdsRenderingSettings;e.restoreCustomPlaybackStateOnAdBreakComplete=!0,e.enablePreloading=!0;var i=t.getAdsManager(this.videoSlot,e);i.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.adEvent.bind(this)),i.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,this.adEvent.bind(this));var n=[google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.USER_CLOSE];for(var a in n)i.addEventListener(n[a],this.adEvent,!1,this);this.videoSlot.load(),this.adDisplayContainer.initialize(),this.adsManager=i;try{i.init(this.adContainer.offsetWidth,this.adContainer.offsetHeight,google.ima.ViewMode.NORMAL)}catch(t){this.adError(t)}},this.adEvent=function(t){var e=this,i={};switch(i[google.ima.AdEvent.Type.CLICK]="AdClick",i[google.ima.AdEvent.Type.MIDPOINT]="AdVideoMidpoint",i[google.ima.AdEvent.Type.FIRST_QUARTILE]="AdVideoFirstQuartile",i[google.ima.AdEvent.Type.THIRD_QUARTILE]="AdVideoThirdQuartile",t.type){case google.ima.AdEvent.Type.LOADED:this.ad=t.getAd(),this.ad.isLinear()?(clearTimeout(this.loadingModule),this.emit("AdLoaded"),this.status="loaded",this.replaceVideos()):r.debug("IMA Not Linear",r.debugLevel.INFO);break;case google.ima.AdEvent.Type.STARTED:this.ad.isLinear()?(this.status="started",this.emit("AdStarted")):this.adError();break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:if(this.allAdsCompleted)return;this.allAdsCompleted=!0,setTimeout(function(){"skipped"!==e.status&&"completed"!==e.status&&(e.status="skipped",e.emit("AdSkipped"))},1500);break;case google.ima.AdEvent.Type.COMPLETE:this.ad.isLinear()&&"completed"!==this.status&&setTimeout(function(){e.status="completed",e.adCompleted()},1500);break;case google.ima.AdEvent.Type.USER_CLOSE:setTimeout(function(){"skipped"!==e.status&&(e.status="skipped",e.emit("AdSkipped"),e.adCompleted())},1500);break;case google.ima.AdEvent.Type.CLICK:this.emit("AdClickThru");break;default:"aderror"===t.type.toLowerCase()?this.adError():i[t.type]&&this.emit(i[t.type])}},this.replaceVideos=function(){var t=this.adContainer.getElementsByTagName("video");if(t&&t.length>0)for(var e=0;e<t.length;e++)"absolute"!==t[e].style.position&&(t[e].style.position="absolute"),"0px"!==t[e].style.top&&(t[e].style.top="0px"),"left"!==t[e].style.position&&(t[e].style.left="0px")},this.startAd=function(){this.started=!0,this.adsManager.start(),this.device.android()&&setTimeout(d.checkStart.bind(d),500)},this.checkStart=function(){var t=this.adContainer.getElementsByTagName("video");if(t&&t.length>0)for(var e=0;e<t.length;e++)t[e].autoplay=!0,t[e].setAttribute("autoplay",!0),t[e].setAttribute("muted",!0),t[e].muted=!0,t[e].src&&"loaded"===this.status&&(t[e].load(),this.status="playing",this.emit("AdPlaying"))},this.getAdDuration=function(){return this.ad.getDuration()},this.getAdRemainingTime=function(){return this.adsManager.getRemainingTime()},this.adCompleted=function(){this.status="completed";try{clearInterval(this.intervalTimer)}catch(t){}this.adContainer&&this.adContainer.parentNode.removeChild(this.adContainer),this.emit("AdVideoComplete")},this.adError=function(t){this.status="error";try{clearInterval(this.loadingModule)}catch(t){}try{clearInterval(this.intervalTimer)}catch(t){}this.adContainer&&this.adContainer.parentNode.removeChild(this.adContainer),t&&t.h?this.emit("AdError",t.h):t?this.emit("AdError",t):this.emit("AdError")},this.getVolume=function(){return this.adsManager.getVolume()},this.setVolume=function(t){this.adsManager.setVolume(t),this.emit("AdVolumeChange")},this.resizeAd=function(t,e,i){try{var r=this.adContainer.getElementsByTagName("iframe");if(r&&r.length>0)for(var n=0;n<r.length;n++)r[n].src.indexOf("imasdk.googleapis.com")>-1&&(r[n].width=t,r[n].style.width=t+"px",r[n].height=e,r[n].style.height=e+"px",r[n].parentNode&&-1===r[n].parentNode.id.indexOf("SMIMAContainer")&&(r[n].parentNode.style.left="50%",r[n].parentNode.style.marginLeft=-t/2+"px",r[n].parentNode.style.top="50%",r[n].parentNode.style.marginTop=-e/2+"px"))}catch(t){}this.adsManager&&this.adsManager.resize(t,e,i)},this.skipAd=function(){this.adsManager.skip()},this.resumeAd=function(){"playing"!==this.status&&(this.adsManager.resume(),this.status="playing",this.emit("AdPlaying"))},this.pauseAd=function(){"pause"!==this.status&&(this.adsManager.pause(),this.status="pause",this.emit("AdPaused"))},this.removeAd=function(){},r.extend(this,new n),this}},function(t,e,i){var r=i(3),n=i(31);t.exports=function(t,e,i){var a,s=this,o=navigator.userAgent.toLowerCase();this.isSafari=/^((?!chrome|android).)*safari/i.test(o),this.videoSlot=e,this.device=i,this.currentTime=0,this.load=function(){this.videoSlot.addEventListener("error",this.onDOMEvent,!1),this.videoSlot.addEventListener("ended",this.onDOMEvent,!1),this.videoSlot.addEventListener("playing",this.onDOMEvent,!1),this.videoSlot.addEventListener("paused",this.onDOMEvent,!1),this.videoSlot.addEventListener("suspend",this.onDOMEvent,!1),this.videoSlot.addEventListener("durationchange",this.onDOMEvent,!1),this.emit("loaded")};var d=function(){if(!s.duration||!a){s.duration=Math.round(s.videoSlot.duration);var t=Math.round(s.duration/4);a=[t,2*t,3*t]}var e=s.currentTime=Math.round(s.videoSlot.currentTime);e===a[0]?s.emit("AdVideoFirstQuartile"):e===a[1]?s.emit("AdVideoMidpoint"):e===a[2]&&s.emit("AdVideoThirdQuartile")};this.pause=function(){clearInterval(this.videoTimer),this.videoSlot.pause(),this.emit("paused")},this.stop=function(){this.pause(),this.videoSlot.currentTime=0,this.videoSlot.removeEventListener("error",this.onDOMEvent,!1),this.videoSlot.removeEventListener("ended",this.onDOMEvent,!1),this.videoSlot.removeEventListener("playing",this.onDOMEvent,!1),this.videoSlot.removeEventListener("paused",this.onDOMEvent,!1),this.videoSlot.removeEventListener("suspend",this.onDOMEvent,!1),this.videoSlot.removeEventListener("durationchange",this.onDOMEvent,!1),this.emit("stopped")},this.play=function(){this.videoSlot.play(),this.videoTimer=setInterval(d,1e3)},this.clearPlayTimeout=function(){try{clearTimeout(this.autoPlayTimeout)}catch(t){}},this.canPlaySrcType=function(t){var e=t.split(".").pop(),i=e.indexOf("?"),r="video/"+(e=i>-1?e.substr(0,i):e);return!this.videoSlot.canPlayType||""!==this.videoSlot.canPlayType(r)},this.startAd=function(){if(!this.canPlaySrcType(t))return this.emit("AdError",{message:"Video can't play"});this.videoSlot.src=t,this.videoSlot.load(),this.videoTimer=setInterval(d,1e3),this.device.ios()&&this.isSafari},this.getDuration=function(){return this.videoSlot.duration},this.getCurrentTime=function(){return this.currentTime},this.getVolume=function(){return this.videoSlot.volume},this.setVolume=function(t){this.videoSlot.muted=0===t,this.videoSlot.volume=t,s.emit("AdVolumeChange")},this.onDOMEvent=function(t){switch(t.type){case"error":s.emit("AdError",{DOMEvent:t}),s.stop(),s.emit("ended",{DOMEvent:t});break;case"ended":s.stop(),s.emit("ended",{DOMEvent:t});break;case"playing":s.playing=!0,s.clearPlayTimeout(),s.emit("playing");break;case"paused":s.emit("paused");break;case"suspend":if(!s.suspend&&!s.playing){if(!s.suspendIntent)return s.suspendIntent=!0,setTimeout(function(){s.playing||s.onDOMEvent({type:"suspend"})},2500),!1;s.suspend=!0,s.device.mobile()?window.document.body.addEventListener("touchstart",function(){s.startWindowTouch()},!1):s.playing||(s.stop(),s.emit("AdError",{DOMEvent:t}))}break;case"durationchange":setTimeout(function(){s.playing||s.onDOMEvent({type:"suspend"})},1500)}},this.startWindowTouch=function(){s.videoSlot.play(),window.document.body.removeEventListener("touchstart",function(){s.startWindowTouch()},!1)},r.extend(this,new n)}},function(t,e,i){function r(t,e,i){this.api=i,this.slot=e,this.youtubeId=t.substr(t.indexOf("v=")+2),this.containerId="SMYTContainer_"+i,n.extend(this,new a)}var n=i(3),a=i(31);r.prototype.tick=function(){var t=this.getAdDuration();this._firstQuartile||(t=Math.round(t),this._firstQuartile=Math.round(t/4),this._midPoint=2*this._firstQuartile,this._thirdQuartile=3*this._firstQuartile);var e=Math.round(this.getCurrentTime());e===this._firstQuartile?this.emit("AdVideoFirstQuartile"):e===this._midPoint?this.emit("AdVideoMidpoint"):e===this._thirdQuartile&&this.emit("AdVideoThirdQuartile")},r.prototype.onStateChange=function(t){t.data===YT.PlayerState.PLAYING?(this.emit("AdPlaying"),this.videoTimer=setInterval(this.tick.bind(this),1e3)):t.data===YT.PlayerState.PAUSED?(this.emit("AdPaused"),clearInterval(this.videoTimer)):t.data===YT.PlayerState.ENDED&&(this.getAdDuration()===this.getCurrentTime()&&this.emit("AdVideoComplete"),this.emit("AdEnded"),clearInterval(this.videoTimer))},r.prototype.initAd=function(){var t=document.createElement("div");t.id=this.containerId,this.slot.appendChild(t),this.emit("AdLoaded")},r.prototype.startAd=function(){var t=document.createElement("script");if(t.setAttribute("src","https://www.youtube.com/iframe_api"),document.head.appendChild(t),!window.onYouTubeIframeAPIReady){var e=this;window.onYouTubeIframeAPIReady=function(){e.player=new YT.Player(e.containerId,{playerVars:{controls:0,modestbranding:1,disablekb:0,autoplay:1,rel:0},videoId:e.youtubeId,height:"100%",width:"100%",events:{onReady:function(t){t.target.playVideo(),e.emit("AdStarted",{event:t})},onError:function(t){e.emit("AdError",{event:t})},onStateChange:e.onStateChange.bind(e)}})}}},r.prototype.resumeAd=function(){this.player.playVideo()},r.prototype.pauseAd=function(){this.player.pauseVideo()},r.prototype.stopAd=function(){this.player.stopVideo(),this.emit("AdStopped")},r.prototype.removeAd=function(){this.stopAd()},r.prototype.skipAd=function(){this.emit("AdSkipped"),this.removeAd()},r.prototype.resizeAd=function(t,e){var i=document.getElementById(this.containerId);i.style.height=e.toString()+"px",i.style.width=t.toString()+"px",this.player.setSize(t,e)},r.prototype.getAdDuration=function(){return this.player.getDuration()},r.prototype.getCurrentTime=function(){return this.player.getCurrentTime()},r.prototype.getAdRemainingTime=function(){var t=this.getAdDuration(),e=this.getCurrentTime();return Math.round(t-e)},r.prototype.getVolume=function(){return this.player.getVolume()},r.prototype.setVolume=function(t){this.player.setVolume(t),this.emit("AdVolumeChange")},t.exports=r},function(t,e,i){function r(t,e,i,r,p,m,f){this.api=f,this.apiName=r,this.loadingModuleTime=3e4,this.vpaidPlayerId="SMVPAIDPlayer_"+f,this.playerElement=i;var v;this.extendedVPAIDInterface=u;for(var g in this.extendedVPAIDInterface.fn)this.extendedVPAIDInterface.fn.hasOwnProperty(g)&&(this[g]=function(t){return function(){return y.vpaidModule.vpaidInstruction({type:t})}}(g));var y=this;this.vpaidInstruction=function(t){try{if(this.extendedVPAIDInterface.fn[t.type]||this.extendedVPAIDInterface.extendedFn[t.type])return y.vpaidModule.vpaidInstruction(t);y.on(t.type,t)}catch(e){y.on("AdError",{msg:"VPAID Instruction "+t.type+" failed",error:e})}},this.on=function(i,r){switch(i){case"wrapperLoaded":clearTimeout(y.loadingModule),y.loadingModule=setTimeout(y.on.bind(y,"AdError",{msg:"Loading timeout exceded"}),y.loadingModuleTime);var a=c.getElement(y.vpaidPlayerId,"swf"),s={type:"loadCreative"};s.vpaidObject={creative:{url:t.$},adParameters:""},e&&(s.vpaidObject.adParameters=e),a.vpaidInstruction(s),y.vpaidModule.VPAIDCreative=a;break;case"AdLoaded":clearTimeout(y.loadingModule),clearInterval(y.updateTime);break;case"AdStarted":clearInterval(y.updateTime),y.adRemainingTime=y.vpaidModule.vpaidInstruction({type:"getAdRemainingTime"});break;case"AdVideoStart":break;case"AdDurationChange":var o=y.vpaidModule.vpaidInstruction({type:"getAdDuration"});o>0&&(this.adDuration=o),this.adRemainingTime=y.vpaidModule.vpaidInstruction({type:"getAdRemainingTime"});break;case"AdVideoComplete":y.adcompleted=!0;break;case"AdStopped":clearInterval(y.updateTime),(y.adcompleted||y.adSkipped||y.adRemainingTime<=0)&&y.removeAd();break;case"AdSkipped":break;case"AdError":y.loadingModule&&clearTimeout(y.loadingModule),y.deleteObject();break;case"AdPlaying":break;case"AdPaused":clearInterval(y.updateTime);break;case"AdImpression":break;case n.EVENTS.AD_FACTORY:r=Array.isArray(r)?r[0]:r}y.emit(i,r)},this.setVolume=function(t){this.vpaidInstruction({type:"setAdVolume",adVolume:t}),y.emit("AdVolumeChange")},this.getVolume=function(){return this.vpaidInstruction({type:"getAdVolume"})},this.initAd=function(){var i;if("application/x-shockwave-flash"===(i=t["@mimeType"]?t["@mimeType"]:t["@type"])){var r=new l;if(!r.checkFlashSupport()||r.mobile())return y.removing=setTimeout(y.removeAd.bind(y),1e3),y.on("AdError",{msg:"Loading timeout exceded"}),void a.warning("Device not compatible with VPAID Flash");v="swf",this.vpaidModule=new s(this,f)}else{if(!i.match(/application\/[x-]{0,2}javascript/))throw new h(100,"Unsupported VPAID mimeType");v="html5",this.vpaidModule=new o(this,f)}this.vpaidModule.init(p,t,e),this.vpaidModule.addListener("all",this),y.loadingModule=setTimeout(y.on.bind(y,"AdError",{msg:"Loading timeout exceded"}),y.loadingModuleTime)},this.removeAd=function(){this.vpaidModule instanceof o&&this.vpaidModule.unsetVPAIDEvents(),y.loadingModule&&clearTimeout(y.loadingModule),y.updateTime&&clearInterval(y.updateTime),y.adcompleted=!0,y.removing=setTimeout(function(){try{y.deleteObject()}catch(t){c.debug(t,c.debugLevel.INFO)}},n.CLOSE_MILLISECONDS-500)},this.deleteObject=function(){try{clearInterval(this.updateTime),clearInterval(this.removing),p.removeChild(this.vpaidModule.container)}catch(t){}},this.getAdDuration=function(){return this.vpaidModule.vpaidInstruction({type:"getAdDuration"})},this.getAdRemainingTime=function(){var t=this.vpaidModule.vpaidInstruction({type:"getAdRemainingTime"});if(t<0){var e=0;return(e=this.vpaidModule.vpaidInstruction({type:"getAdDuration"})>0?this.vpaidModule.vpaidInstruction({type:"getAdDuration"}):this.adDuration)<1&&(e=this.playerElement.duration),(t=e-this.playerElement.currentTime)<0&&(t*=-1),t}return t},this.resizeAd=function(t,e,i){var r=this.vpaidModule.container;r.style.width="100%",r.style.height="100%";try{var n=r.getElementsByTagName("iframe");if(n&&n.length>0)for(var a=0;a<n.length;a++)n[a].id==="vpaid_creative_"+this.api&&(n[a].width=t,n[a].style.width=t+"px",n[a].style.left="50%",n[a].style.marginLeft=-t/2+"px",n[a].height=e,n[a].style.height=e+"px",n[a].style.top="50%",n[a].style.marginTop=-e/2+"px")}catch(t){}this.vpaidModule.vpaidInstruction({type:"resizeAd",w:t,h:e,m:i})},this.skipAd=function(){this.vpaidModule.vpaidInstruction({type:"skipAd"})},c.extend(this,new d)}var n=i(6),a=i(9),s=i(37),o=i(38),d=i(31),c=i(3),l=i(39),h=i(30),u={fn:{loadCreative:[],handshakeVersion:["playerVPAIDVersion"],initAd:["width","height","viewMode","desiredBitrate","creativeData","environmentVars"],startAd:[],stopAd:[],skipAd:[],resizeAd:["width","height","viewMode","w","h","m"],pauseAd:[],resumeAd:[],expandAd:[],collapseAd:[],subscribe:[],unsubscribe:[],SMInitialize:["params"]},prop:{adLinear:[],adWidth:[],adHeight:[],adExpanded:[],adDuration:[],adVolume:[],adRemainingTime:[]},extendedFn:{},events:["AdStarted","AdStopped","AdSkipped","AdLoaded","AdLinearChange","AdSizeChange","AdExpandedChange","AdSkippableStateChange","AdDurationChange","AdRemainingTimeChange","AdVolumeChange","AdImpression","AdClickThru","AdInteraction","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdError","AdLog",n.EVENTS.AD_FACTORY,n.EVENTS.AD_FACTORY_IMPRESSION,n.EVENTS.AD_FACTORY_SSP_VPAID_SIZE]};for(var p in u.prop)if(u.prop.hasOwnProperty(p)){var m=c.arrayToCamelCase(["get",p]),f=c.arrayToCamelCase(["set",p]);u.extendedFn[m]=[],u.extendedFn[f]=[p]}r.prototype.adFactoryInitialize=function(t){try{var e={plugin:t,api:this.api,SMContainer:this.vpaidModule.container};this.vpaidModule.vpaidInstruction({type:"SMInitialize",params:e})}catch(t){t instanceof h?console.log("VPAIDManager onAdFactory SMError",t):console.log("VPAIDManager onAdFactory",t)}},t.exports=r},function(t,e,i){var r=i(3),n=i(31);t.exports=function(t,e){this.vpm=t,this.api=e;var i;this.init=function(e,n){i=n;var a,s,o,d,c,l,h=t.vpaidPlayerId;return a="api="+t.apiName,l=r.memoize(r.getBasePathMainJS)(),s=l+"assets/SMVPAIDSwfModule.swf",o='<object id="'+h+'" classid="clsid:D27CDB6E-AE6D-11cf-96BB-444553540000" name="'+h+'" type="application/x-shockwave-flash" data="'+s+'" width="100%" height="100%"><param name="movie" value="'+s+'"/><param name="quality" value="high"/><param name=" AllowScriptAccess" value="always"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+a+'"/><embed src="'+s+'" name='+h+' id="'+h+'" data="'+s+'" flashvars="'+a+'" wmode="transparent" width="100%" height="100%" AllowScriptAccess="always" allowfullscreen="true"></object>',c="z-Index:10000;position:absolute;float:none;background-color:#000000;",c+="width:100%;height:100%;",(d=document.createElement("div")).setAttribute("id","SMVPAIDContainer_"+this.api),d.setAttribute("style",c),e.appendChild(d),this.container=d,d.innerHTML=o,this},this.vpaidInstruction=function(t){return this.VPAIDCreative.vpaidInstruction(t)},r.extend(this,new n)}},function(t,e,i){var r=i(3),n=i(31),a=i(39);t.exports=function(t,e){var i=this,s={};this.device=new a,this.api=e,this.init=function(t,e,i){this.mediafile=e,this.adParameters=i,this.container=document.createElement("div"),this.container.setAttribute("id","SMVPAIDContainer_"+this.api),this.container.setAttribute("style","z-Index:10000;position:absolute;float:none;width:100%;height:100%;"),t.appendChild(this.container),this.loadCreative()},this.loadCreative=function(){var t=this,e=!0!==(t.mediafile.$&&t.mediafile.$.indexOf("https://s1.adform.net/banners/scripts/video/VPAIDWrapper.min.js")>-1);t.iframe=r.appendFrameScript(t.container,t.mediafile.$,t.creativeCallback,t.api,e)},this.creativeCallback=function(){var t,e=i.iframe.contentWindow.getVPAIDAd;return e&&"function"==typeof e?(i.VPAIDCreative=e(),i.checkVPAIDInterface(i.VPAIDCreative)?(i.setVPAIDEvents(),void o()):(t=new SMError(101,"Creative does not match the VPAID interface",i.VPAIDCreative),i.emit("AdError",t),!1)):(t=new SMError(101,"getVPAIDAd function does not exist"),i.emit("AdError",t),!1)},this.vpaidInstruction=function(e){var r=t.extendedVPAIDInterface.fn[e.type];if(r||(r=t.extendedVPAIDInterface.extendedFn[e.type]),!r)throw SMError(103,"Instruction "+e.type+" not allowed",e);if(i.VPAIDCreative[e.type]){var n=[];for(var a in r)if(r.hasOwnProperty(a)){if(void 0===e[r[a]])continue;n.push(e[r[a]])}return i.VPAIDCreative[e.type].apply(i.VPAIDCreative,n)}};var o=function(e){var r=i.container.getElementsByTagName("iframe")[0].contentWindow.document,n=r.body,a=n;if(i.mediafile.$&&i.mediafile.$.indexOf("https://s1.adform.net/banners/scripts/video/VPAIDWrapper.min.js")>-1){var s=document.createElement("div");s.id="vpaid_slot",n.appendChild(s),a=r.getElementById("vpaid_slot")}else i.mediafile.$&&i.mediafile.$.indexOf("https://vpaid.doubleverify.com/js/vpaid-transformer/0.19.29/vpaid-transformer.js")>-1&&(a=i.container);var o={slot:a,videoSlot:t.playerElement};t.playerElement.volume=0,t.playerElement.muted=!0;var d=360*o.slot.offsetWidth/640,c={AdParameters:i.adParameters};i.VPAIDCreative.initAd(t.playerElement.offsetWidth,d,"normal",500,c,o)};this.checkVPAIDInterface=function(e){for(var i in t.extendedVPAIDInterface.fn)if(t.extendedVPAIDInterface.fn.hasOwnProperty(i)&&"SMInitialize"!==i){if(this[i])continue;if(!e[i]||"function"!=typeof e[i])return!1}return!0},this.setVPAIDEvents=function(){for(var e in t.extendedVPAIDInterface.events)if(t.extendedVPAIDInterface.events.hasOwnProperty(e)){var r=t.extendedVPAIDInterface.events[e];s[r]=function(t){return function(){i.emit(t,Array.prototype.slice.apply(arguments))}}(r),i.VPAIDCreative.subscribe(s[r],r)}},this.unsetVPAIDEvents=function(){for(var t in s)i.VPAIDCreative.unsubscribe(s[t],t)},r.extend(this,new n)}},function(t,e,i){var r=i(3);t.exports=function(){var t,e;e=window.smdevice,t={},window.smdevice=t,window.smuAgent=window.navigator.userAgent.toLowerCase(),this.ios=function(){return this.iphone()||this.ipod()||this.ipad()},this.iphone=function(){return!this.windows()&&i("iphone")},this.ipod=function(){return i("ipod")},this.ipad=function(){return i("ipad")},this.android=function(){return!this.windows()&&i("android")},this.androidPhone=function(){return this.android()&&i("mobile")},this.androidTablet=function(){return this.android()&&!i("mobile")},this.blackberry=function(){return i("blackberry")||i("bb10")||i("rim")},this.blackberryPhone=function(){return this.blackberry()&&!i("tablet")},this.blackberryTablet=function(){return this.blackberry()&&i("tablet")},this.windows=function(){return i("windows")},this.windowsPhone=function(){return this.windows()&&i("phone")},this.windowsTablet=function(){return this.windows()&&i("touch")&&!this.windowsPhone()},this.fxos=function(){return(i("(mobile;")||i("(tablet;"))&&i("; rv:")},this.fxosPhone=function(){return this.fxos()&&i("mobile")},this.fxosTablet=function(){return this.fxos()&&i("tablet")},this.meego=function(){return i("meego")},this.cordova=function(){return window.cordova&&"file:"===location.protocol},this.nodeWebkit=function(){return"object"==typeof window.process},this.mobile=function(){return this.androidPhone()||this.iphone()||this.ipod()||this.windowsPhone()||this.blackberryPhone()||this.fxosPhone()||this.meego()},this.tablet=function(){return this.ipad()||this.androidTablet()||this.blackberryTablet()||this.windowsTablet()||this.fxosTablet()},this.desktop=function(){return!this.tablet()&&!this.mobile()},this.television=function(){return n(/googletv|viera|smarttv|internet.tv|netcast|nettv|appletv|boxee|kylo|roku|dlnadoc|pov_tv|hbbtv|ce-html/)},this.portrait=function(){return window.innerHeight/window.innerWidth>1},this.landscape=function(){return window.innerHeight/window.innerWidth<1},this.noConflict=function(){return window.smdevice=e,this};var i=function(t){return-1!==window.smuAgent.indexOf(t)},n=function(t){return window.smuAgent.match(t)};this.getDevice=function(){if(this.ios()){if(this.ipad())return"ios ipad tablet";if(this.iphone())return"ios iphone mobile";if(this.ipod())return"ios ipod mobile"}else{if(this.android())return this.androidTablet()?"android tablet":"android mobile";if(this.blackberry())return this.blackberryTablet()?"blackberry tablet":"blackberry mobile";if(this.windows())return this.windowsTablet()?"windows tablet":this.windowsPhone()?"windows mobile":"desktop";if(this.fxos())return this.fxosTablet()?"fxos tablet":"fxos mobile";if(this.meego())return"meego mobile";if(this.nodeWebkit())return"node-webkit";if(this.television())return"television";if(this.desktop())return"desktop"}return!!this.cordova()&&"cordova"},this.checkFlashSupport=function(){function t(t){return t=t.match(/[\d]+/g),t.length=3,t.join(".")}n=!1;if(navigator.plugins&&navigator.plugins.length){var e=navigator.plugins["Shockwave Flash"];e&&(n=!0,e.description&&t(e.description)),navigator.plugins["Shockwave Flash 2.0"]&&(n=!0,"2.0.0.11")}else if(navigator.mimeTypes&&navigator.mimeTypes.length){var i=navigator.mimeTypes["application/x-shockwave-flash"];(n=i&&i.enabledPlugin)&&t(i.enabledPlugin.description)}else try{var r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),n=!0;t(r.GetVariable("$version"))}catch(e){try{r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),n=!0,"6.0.21"}catch(e){try{r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),n=!0,t(r.GetVariable("$version"))}catch(t){}}}return n},this.checkWifi=function(t){t(!1)},this.checkAutoplay=function(t){var e=function(){var t=window.frameElement.getBoundingClientRect();return t.top>=0&&t.bottom<=screen.height};if(window.parent&&window.frameElement&&window.frameElement.id)var i=setInterval(function(){e()&&(clearInterval(i),this.loadAutoplay(t))}.bind(this),100);else this.loadAutoplay(t)};var a;this.loadAutoplay=function(t){var e=document.createElement("video"),i=["loadeddata","loadedmetadata","playing"];for(var r in i)e.addEventListener(i[r],function(t,e){return"playing"===t?function(){a&&clearTimeout(a);var t=document.getElementById("SMAutoplayTesting");t&&t.parentNode.removeChild(t),e(!0)}:function(){a||(a=setTimeout(function(){window.SMAutoPlayChecking&&clearTimeout(a),e(!1)},2e3))}}(i[r],t));e.setAttribute("id","SMAutoplayTesting"),e.setAttribute("style","width:0.5px; height:0.5px; position:fixed;top:0px;left:0px;z-Index:2000000000"),e.setAttribute("src","https://static.sunmedia.tv/SMOutstream/files/video.mp4"),e.setAttribute("autoplay",!0),e.setAttribute("muted",!0),e.setAttribute("playsinline",!0),e.setAttribute("webkit-playsinline",!0),this.android()&&this.tablet()&&e.load(),document.body.appendChild(e)};var s;return this.speedTest=function(t){s=[];for(var e=0;e<10;e++)this.speedTestRequest(e,t)},this.speedTestRequest=function(t,e){var i=function(){var t=r.linearQuantile(s,75)/1e3,e=932024/t/1024/1024;return r.debug("75th quantile time : "+t+" seconds"),r.debug("Calculated speed : "+e.toFixed(2)+" Mbps"),e},n=new Image,a=(new Date).getTime();n.onload=function(t,e,n){return function(){var a=(new Date).getTime()-e;s[t]=a,r.debug("Test "+t+" : "+a+" ms"),10===s.filter(function(t){return t}).length&&n(i())}}(t,a,e),n.onerror=function(t,e){},n.src="https://vod.sunmedia.tv/sunmedia/demos/bitrate.jpg?d="+t},this}},function(t,e,i){var r=i(3),n=i(31);t.exports=function(t){var e=!0;this.on=function(t,i){switch("playing"===t&&e&&(this.emit("AdStarted"),e=!1),t){case"loaded":this.emit("AdLoaded",i);break;case"paused":this.emit("AdPaused",i);break;case"playing":this.emit("AdPlaying",i);break;case"ended":i||(i={}),i.type="completed",this.emit("AdVideoComplete",i),this.emit("AdStopped",i);break;default:this.emit(t,i)}},this.handshakeVersion=function(t){},this.initAd=function(e,i,r,n,a,s){t.addListener("all",this),t.load()},this.startAd=function(){t.startAd()},this.stopAd=function(){t.stop()},this.pauseAd=function(){t.pause()},this.resumeAd=function(){t.play()},this.skipAd=function(){this.stopAd(),this.removeAd(),this.emit("AdSkipped")},this.removeAd=function(){this.stopAd()},this.expandAd=function(){},this.collapseAd=function(){},this.setVolume=function(e){t.setVolume(e)},this.getVolume=function(){return t.getVolume()},this.resizeAd=function(e,i,r){var n=t.videoSlot;n.style.width=n.style.height="100%"},this.getAdDuration=function(){var e=t.getDuration();return Math.round(e)},this.getAdRemainingTime=function(){var e=t.getDuration(),i=t.getCurrentTime();return Math.round(e-i)},r.extend(this,new n)}},function(t,e){t.exports=function(t){var e=[],i=-1,t=t;this.state="unloaded",this.init=function(){var i=JSON.parse(t.$).insertionPoint[0].slot[0].vast.ad[0].inLine.creatives.creative[0].linear.adParameters.value,r=JSON.parse(i);e=r.ad;for(var n in e)e[n].wrapper&&(e[n].wrapper.vastadTagURI=e[n].wrapper.vastadTagURI.replace(/&amp;/g,"&"));this.state="working"},this.next=function(){return i<e.length&&(i++,e[i])},this.hasNext=function(){return i+1<e.length},this.init()}},function(t,e,i){var r=i(43),n=i(28);t.exports=function(t,e,i){console.log(t);var a=new r,s={HTMLResource:function(t,e){n.decompose(t.$)?a.get(t.$,function(){a.xhr.readyState==a.xhr.DONE&&200==xhrWrap.xhr.status?e.insertAdjacentHTML("beforeend",html):console.log("ERROR resources",a.xhr)},function(){console.log("ERROR resources")}):e.insertAdjacentHTML("beforeend",t.$)},StaticResource:function(t,e){var i=new Image;i.src=t.$,e.appendChild(i)},IFrameResource:function(t,e){var i=document.createElement("iframe");i.src=t.$,e.appendChild(i)}};t.forEach(function(t){for(var i in t)"@"!=i[0]&&s[i]&&s[i](t[i],e)})}},function(t,e,i){var r=i(30);t.exports=function(){function t(){if(e)return new XDomainRequest;var t=new XMLHttpRequest;if(void 0===t.withCredentials){if("undefined"==typeof XDomainRequest)throw new r(102,"No XHR/XDR class");t=new XDomainRequest,e=!0}return t}var e=!1;return this.retry=!0,this.send=function(t){if(t=t||!1,!this.xhr)throw new r(102,"Run open before send");this.xhr.setRequestHeader("Accept","*/*"),this.xhr.withCredentials=t,this.xhr.send()},this.get=function(t,e,i){this.open("GET",t),"function"==typeof e&&(this.xhr.onload=e),"function"==typeof i&&(this.xhr.onerror=i),this.send(void 0)},this.open=function(i,r){this.xhr=t(),this.xhr.crossDomain=!0,e?this.xhr.open(i,r):this.xhr.open(i,r,!0)},this}},function(t,e,i){var r=i(21);t.exports=function(t,e,i,n,a,s,o,d,c,l){return this.device=a,this.win=n,this.reference=i,this.companions=t,this.ava=e,this.frmMain=!1,this.frmRemember=!1,this.btnSize=25,this.viewMain=!1,this.position=e&&e.position?e.position:"left",this.skipReminder="boolean"==typeof s&&s,this.skipReminderTime=parseInt(o),this.init=function(){for(var t=0;t<this.companions.length;t++)r.isAMP()&&"Remember"===this.companions[t]["@id"]||this.buildContainer(this.companions[t])},this.isResourceEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return JSON.stringify(t)===JSON.stringify({})},this.buildContainer=function(t){var e=r.isAMP()&&r.isAMPStickyIntegration();if(!(t&&t.HTMLResource&&this.isResourceEmpty(t.HTMLResource))){var i=c.offsetWidth,n=360*c.offsetWidth/640;c.style.height=n+"px";var a,s,o,l,h,u,p;"Main"===t["@id"]&&(t["@width"].indexOf("%")>-1&&(t["@width"]=i,t["@height"]=n),t["@view"]&&"1"===t["@view"]&&(this.viewMain=!0)),u=t["@width"]?t["@width"]:300,p=t["@height"]?t["@height"]:250,e||((s=document.createElement("div")).setAttribute("id","SMIntext_remember_dv_close_"+t["@id"]+d),s.setAttribute("class","SMIntext_close_companion")),(l=document.createElement("div")).setAttribute("id","SMIntext_remember_dv_frm_"+t["@id"]+d),l.setAttribute("style","width:"+u+"px;height:"+p+"px;position:absolute;top:0px;left:0px;"),(a=document.createElement("div")).id="SMIntext_remember_dv_"+t["@id"]+d,a.appendChild(l),e||a.appendChild(s);var m="z-index:50000;border:none;margin-bottom:10px;";if(h=this.win.document.createElement("iframe"),h.id="SMIntext_remember_"+t["@id"]+d,h.className="SMIntext_remember_"+t["@id"],h.scrolling="no",h.frameborder="0",h.onload=this.bannerLoaded.bind(this,t),h.width=u,h.height=p,h.setAttribute("style","border:none;width:"+u+"px;height:"+p+"px;"),l.appendChild(h),"Main"===t["@id"]){var f="width:"+i+"px;height:"+n+"px;z-Index:"+(r.isAMP()?20:this.reference.style.zIndex)+";position:relative;margin-bottom:10px;",v=this.win.document.createElement("div");v.setAttribute("style",f),v.setAttribute("id","SMAuxBanner_Main"+d),v.setAttribute("class","SMAuxBanner_Main"),e||(o="display:none;cursor:pointer;width:"+this.btnSize+"px;height:"+this.btnSize+"px;position:absolute;right:5px;top:5px;background-image:url('https://static.sunmedia.tv/SMOutstream/files/4.1/ico-cerrar.png');background-size: contain;background-repeat: no-repeat;",s.setAttribute("style",o));var g="position:absolute;top:0px;left:0px;width:"+u+"px;height:"+p+"px;display:none;";a.setAttribute("style",g),v.appendChild(a),c.appendChild(v),this.frmMain=!0}else if("Remember"===t["@id"]){var y=this.ava&&this.ava.bottom?this.ava.bottom:10;o="display:none;cursor:pointer;width:"+this.btnSize+"px;height:"+this.btnSize+"px;position:absolute;right:0px;top:0px;background-image:url('https://static.sunmedia.tv/SMOutstream/files/4.1/ico-cerrar.png');background-size: contain;background-repeat: no-repeat;",s.setAttribute("style",o),m="position:fixed;top:unset;left:unset;bottom:"+y+"px;width:"+(parseInt(u)+this.btnSize)+"px;height:"+(parseInt(p)+this.btnSize)+"px;display:none;z-Index:200000;",m+=this.position.indexOf("left")>-1?"left:10px":"right:10px;",this.frmRemember=!0,a.setAttribute("style",m),c.appendChild(a)}}},this.bannerLoaded=function(t){var e=this.win.document.getElementById("SMIntext_remember_"+t["@id"]+d);e.onload=null;var i=e.contentDocument,r=document.createElement("div");this.srcToLoad=0,this.srcLoaded=0,r.innerHTML=decodeURIComponent(t.HTMLResource.$);for(var n=!1,a=this,s=0;s<r.childNodes.length;s++)if(r.childNodes[s].tagName&&"undefined"!==r.childNodes[s].tagName)if("SCRIPT"===r.childNodes[s].nodeName.toUpperCase()){var o=i.createElement("script");r.childNodes[s].src&&(n=!0,this.srcToLoad++,r.childNodes[s].id&&(o.id=r.childNodes[s].id),r.childNodes[s].type&&(o.type=r.childNodes[s].type),r.childNodes[s].src&&(o.src=r.childNodes[s].src),r.childNodes[s].onload&&(o.onloadpre=r.childNodes[s].onload),o.onload=setTimeout(function(){a.BannerJSloaded(t)},1e3),i.body.appendChild(o))}else i.body.appendChild(r.childNodes[s].cloneNode(!0));i.body.style.margin="0 auto",n||setTimeout(function(){a.BannerJSloaded(t)},1e3)},this.BannerJSloaded=function(t){if(this.srcLoaded++,this.srcLoaded<this.srcToLoad)return!1;var e=this.win.document.getElementById("SMIntext_remember_"+t["@id"]+d),i=e.contentWindow?e.contentWindow:e.contentDocument.document?e.contentDocument.document:e.contentDocument,r=document.createElement("div");r.innerHTML=decodeURIComponent(t.HTMLResource.$);for(var n=0;n<r.childNodes.length;n++)r.childNodes[n].tagName&&"undefined"!==r.childNodes[n].tagName&&("SCRIPT"!==r.childNodes[n].nodeName.toUpperCase()||r.childNodes[n].src||i.eval(r.childNodes[n].innerHTML));this.CompanionsReady()},this.CompanionsReady=function(){var t=this;this.frmMain&&(this.SMmain=this.win.document.getElementById("SMIntext_remember_dv_Main"+d)),this.frmRemember&&(this.SMremember=this.win.document.getElementById("SMIntext_remember_dv_Remember"+d)),this.frmMain&&(this.SMmain.style.display="block"),this.frmMain&&this.frmRemember&&(this.postionController=setTimeout(function(){t.setScrollPosition()},10)),this.tryCloseRememberBanner(),setTimeout(function(){t.showCloseBtn()},1e4)},this.showCloseBtn=function(){var t=this.win.document.getElementsByClassName("SMIntext_close_companion");if(t&&t.length>0)for(var e=0;e<t.length;e++)t[e].onclick=function(){event.currentTarget.parentNode.id.indexOf("Main")>-1?(clearTimeout(this.postionController),c.parentNode.removeChild(c),"function"==typeof l&&l(),this.callbackMain&&this.callbackMain.callback&&this.win[this.callbackMain.callback](this.callbackMain.options)):c.parentNode.removeChild(c),this.tryCloseRememberBanner()}.bind(this),t[e].style.display="block"},this.setCallbackMain=function(t,e){this.callbackMain={},this.callbackMain.callback=t,this.callbackMain.options=e},this.setScrollPosition=function(){clearTimeout(this.postionController);var t=this.SMisScrolledIntoView(this.win.document.getElementById("SMAuxBanner_Main"+d));t&&(this.watched=!0),!t&&this.SMremember&&(this.viewMain?this.watched&&this.showBannerInScreen():this.showBannerInScreen()),t&&this.SMremember&&(this.SMremember.style.display="none");var e=this;this.postionController=setTimeout(function(){e.setScrollPosition()},10)},this.showBannerInScreen=function(){this.tryCloseRememberBanner()},this.closeRememberBanner=function(){this.SMremember.parentNode.removeChild(this.SMremember)},this.tryCloseRememberBanner=function(){try{this.SMremember&&(this.SMremember.style.display="block",this.skipReminder&&this.skipReminderTime>0&&!this.skipreminderDone&&(this.skipreminderDone=!0,setTimeout(this.closeRememberBanner.bind(this),1e3*this.skipReminderTime)))}catch(t){}},this.SMisScrolledIntoView=function(t){try{var e=t.getBoundingClientRect().top,i=t.getBoundingClientRect().bottom;return"desktop"===this.device?e>=70&&i<=this.SMwindowHeight()-100:e>=0&&i<=this.SMwindowHeight()}catch(t){}},this.SMwindowWidth=function(){return this.win.innerWidth?this.win.innerWidth:this.win.documentElement.clientWidth?this.win.documentElement.clientWidth:void 0},this.SMwindowHeight=function(){return this.win.innerHeight?this.win.innerHeight:this.win.documentElement.clientHeight?this.win.documentElement.clientHeight:void 0},this.init(),this}},,function(t,e){function i(t,e,i,r,n,s){return[t,e,i,r,n,s].join(a)}var r="1.0,1",n="!",a=",",s="sunmedia.tv",o="1";t.exports={getSupplyChain:function(t,e){if("string"==typeof t){var a,d=i(s,t,o);return"string"==typeof e?(a=e.split(n)).push(d):a=[r,d],a.join(n)}}}},function(t,e,i){function r(){this.fetchConsentDataFromCMP(),this.fetchGDPRFromSMService()}var n=i(6),a=i(23),s=i(21);r.prototype.getSunMediaGDPR=function(){return window[n.SM_GEO_WINDOW_KEY]},r.prototype.setSunMediaGDPR=function(t){window[n.SM_GEO_WINDOW_KEY]=t},r.prototype.fetchGDPRFromSMService=function(){if(!window.hasOwnProperty(n.SM_GEO_WINDOW_KEY)){this.setSunMediaGDPR(-1);var t=function(t){var e=JSON.parse(t.body);this.setSunMediaGDPR(e&&!0===e.eu_country?1:0)}.bind(this),e=function(){this.setSunMediaGDPR(0)}.bind(this);a.get(n.SDK_GEO_PATH,null,{crossDomain:!1,withCredentials:!1},t,e)}},r.prototype.fetchConsentDataFromCMP=function(){this._loadingDataFromCMP=!1;try{if(window.hasOwnProperty("__cmp")&&window.__cmp){this._loadingDataFromCMP=!0;var t=setTimeout(function(){this._loadingDataFromCMP=!1}.bind(this),2e3),e=function(e,i){try{clearTimeout(t)}catch(t){}i&&e&&(this.gdprApplies=e.gdprApplies,this.consentData=e.consentData,this.hasGlobalScope=e.hasGlobalScope),this._loadingDataFromCMP=!1}.bind(this);window.__cmp("getConsentData",null,e)}else s.isAMP()&&(this._loadingDataFromCMP=!0,window.context.getConsentState(function(t){t&&t.consentState&&(this.gdprApplies=3===t.consentState?0:1,this.consentData=window.context.initialConsentValue),this._loadingDataFromCMP=!1}.bind(this)))}catch(t){this._loadingDataFromCMP=!1}},r.prototype.isLoading=function(){return-1===this.getSunMediaGDPR()||this._loadingDataFromCMP},r.prototype.getGDPR=function(){return void 0!==this.gdprApplies?this.gdprApplies?1:0:this.getSunMediaGDPR()},r.prototype.getConsent=function(){return this.consentData||1},t.exports=r},function(t,e,i){function r(){this.country=-1,this.fetchCountryFromSMService()}var n=i(6),a=i(23);r.prototype.fetchCountryFromSMService=function(){var t=function(t){var e=JSON.parse(t.body);this.setCountry(e&&e.country?e.country:null)}.bind(this),e=function(){this.setCountry(null)}.bind(this);a.get(n.SDK_COUNTRY_PATH,null,{crossDomain:!1,withCredentials:!1},t,e)},r.prototype.isLoading=function(){return-1===this.country},r.prototype.getCountry=function(){return this.country},r.prototype.setCountry=function(t){this.country=t},t.exports=r},function(t,e,i){function r(t,e){t||(t="outstream"),this.type=t,this.client=e,this.defaultTrackerloaded=!1,this.fetchSMDefaultTrackerService()}var n=i(6),a=i(23),s=i(20);r.prototype.fetchSMDefaultTrackerService=function(){var t=function(t){var e=JSON.parse(t.body);this.setDefaultTracker(e)}.bind(this),e=function(){this.setDefaultTracker()}.bind(this),i=n["SDK_DEFAULT_TRACKER_"+this.type.toUpperCase()];i=i.replace("[CLIENT]",this.client),a.get(i,null,{crossDomain:!1,withCredentials:!1},t,e)},r.prototype.isLoaded=function(){return this.defaultTrackerloaded},r.prototype.setDefaultTracker=function(t){this.defaultTracker=t?t.default_tracker:[],this.defaultTrackerloaded=!0},r.prototype.getTrackers=function(t){if(this.defaultTracker&&this.defaultTracker.length>0)for(var e=0;e<this.defaultTracker.length;e++)this.defaultTracker[e].data=s.replace(this.defaultTracker[e].data,t),this.defaultTracker[e].fired=!1;return this.defaultTracker},t.exports=r},function(t,e,i){function r(t,e){this.type=t,this.defaultTagloaded=!1,void 0===e||!1===e?this.fetchSMDefaultTafService():(this.defaultTagloaded=!0,this.defaultTag=[])}var n=i(6),a=i(23);r.prototype.fetchSMDefaultTafService=function(){var t=function(t){var e=JSON.parse(t.body);this.setDefaultTag(e)}.bind(this),e=function(){this.setDefaultTag()}.bind(this);a.get(n.SDK_DEFAULT_TAG_PATH+this.type+".json",null,{crossDomain:!1,withCredentials:!1},t,e)},r.prototype.isLoaded=function(){return this.defaultTagloaded},r.prototype.setDefaultTag=function(t){this.defaultTag=t||[],this.defaultTagloaded=!0},r.prototype.getTags=function(){return this.defaultTag},t.exports=r},function(t,e,i){function r(t,e){this._wind=t,this._objName=e}var n=i(52);r.prototype.add=function(t){this._wind.hasOwnProperty(this._objName)&&new n(this._wind,this._objName,t)},t.exports=r},function(t,e,i){function r(t,e,i){this._wind=t,this._objName=e,this._pluginInstance=i,this.ptfOpportunityCounter=0,this.ptfRequestCounter=0,this.ptfEffectiveCounter=0,this.ptfVideoTrackers={},this.init(i.config),this.subscribeToPluginEvents()}var n=i(6),a=i(19);r.prototype.init=function(t){t&&(this._config=t,this._loopEnabled=this._config.loop&&this._config.loop.enabled,this._onlyOneVideo=this._loopEnabled&&this._config.loop.onlyOneVideo)},r.prototype.subscribeToPluginEvents=function(){this._pluginInstance.addEventListener(this._pluginInstance.EVENTS.SM_UPDATE_PARAMS,this.onUpdateConfig.bind(this)),this._pluginInstance.addEventListener(this._pluginInstance.EVENTS.SM_OPPORTUNITY_FIRED,this.onOpportunityFired.bind(this)),this._pluginInstance.addEventListener(this._pluginInstance.EVENTS.SM_REQUEST_FIRED,this.onRequestFired.bind(this)),this._pluginInstance.addEventListener(this._pluginInstance.EVENTS.SM_EFFECTIVE_FIRED,this.onEffectiveFired.bind(this)),this._pluginInstance.addEventListener(this._pluginInstance.EVENTS.SM_UNFILLED_FIRED,this.onUnfilledFired.bind(this)),this._pluginInstance.addEventListener(this._pluginInstance.EVENTS.SM_VIDEO_TRACKER_FIRED,this.onVideoTrackerFired.bind(this)),this._pluginInstance.addEventListener(this._pluginInstance.EVENTS.SM_COMPLETED,this.onAdComplete.bind(this))},r.prototype.onUpdateConfig=function(t){this.init(t)},r.prototype.onOpportunityFired=function(){this.ptfOpportunityCounter+=1},r.prototype.onRequestFired=function(){this.ptfRequestCounter+=1},r.prototype.onEffectiveFired=function(){this.ptfEffectiveCounter+=1},r.prototype.onUnfilledFired=function(t){this._unfilledTracker=t},r.prototype.onVideoTrackerFired=function(t){if(void 0!==t&&t.urlList.length>0){var e=a.decomposeUrl(t.urlList[0]),i=a.queryToObject(e.query);this.ptfVideoTrackers.hasOwnProperty(i.loop)||(this.ptfVideoTrackers[i.loop]={trackers:{}}),this.ptfVideoTrackers[i.loop].priority=this._pluginInstance.currentPriority,this.ptfVideoTrackers[i.loop].blockChanged=this._pluginInstance.tagsBlockHasChanged,this.ptfVideoTrackers[i.loop].trackers[i.tp]=i,this.ptfVideoTrackers[i.loop].trackers[i.tp]._url=t.urlList[0]}},r.prototype.onAdComplete=function(){try{this._wind[this._objName][this._pluginInstance.api]={isPltTrackerOK:this.checkPtfTrackers(),complete:!0}}catch(t){console.error(t)}},r.prototype.checkPtfTrackers=function(){var t=1===this.ptfOpportunityCounter&&1===this.ptfRequestCounter&&1===this.ptfEffectiveCounter,e=this._checkPtfVideoTrackers();if(!this._loopEnabled||this._onlyOneVideo){var i=Object.keys(this.ptfVideoTrackers).length<=1;e=e&&i}return t&&e},r.prototype._checkPtfVideoTrackers=function(){var t=this.isSunMediaUnfilled(),e=this.isClientUnfilled(),i=!0;for(var r in this.ptfVideoTrackers)if(this.ptfVideoTrackers.hasOwnProperty(r)){var n=this.ptfVideoTrackers[r],a=this.getPb(n.priority),s=!1;for(var o in n.trackers)if(n.trackers.hasOwnProperty(o)){var d=n.trackers[o];"reqe"!==d.tp&&(i=i&&d.pb===a,s=s||"imp"===o,t&&(i=i&&"1"!==d.pb),e&&(i=i&&"0"!==d.pb))}i=i&&s,n.blockChanged&&(i=i&&n.priority!==this._config.priority)}return i},r.prototype.getPb=function(t){return(t=t||this._config.priority)===n.SM_PRIORITY.SUN_MEDIA?"1":"0"},r.prototype._isACorrectUnfilled=function(t){var e=0;return void 0!==this._unfilledTracker&&this._unfilledTracker.urlList.forEach(function(i){i.indexOf(t)>0&&e++}),1===e},r.prototype.isSunMediaUnfilled=function(){return this._isACorrectUnfilled("pb=1")},r.prototype.isClientUnfilled=function(){return this._isACorrectUnfilled("pb=0")},t.exports=r},,,,,,,function(t,e,i){function r(){this._device=new u,this._gdpr=new o,this._country=new d,this._testerManager=new h(window,"__sm__"),this._device.mobileDesktop=this._device.desktop()?"desktop":"mobile",window.SMIntextPlaylist||(window.SMIntextPlaylist=[])}var n=i(6),a=i(3),s=i(60),o=i(47),d=i(48),c=i(49),l=i(50),h=i(51),u=i(39),p=i(9),m=i(46);r.prototype.createIntext=function(t,e){if(!this._gdpr.isLoading()&&this._dftTracker.isLoaded()&&!this._country.isLoading()&&this._dftTag.isLoaded()){if(e.options.country=this._country.getCountry(),e.options.gdprApplies=this._gdpr.getGDPR(),e.options.consentData=this._gdpr.getConsent(),1===e.options.consentData&&n.STRICT_USER_CONSENT.indexOf(e.publisher)>-1)throw Error("STRICT_USER_CONSENT");e.options.supplyChain=m.getSupplyChain(e.publisher),e.options.category="string"==typeof e.category?e.category:"",e.defaultTracker=this._dftTracker.getTrackers(e.options),e.defaultTag=this._dftTag.getTags();var i=!1;if(e.options&&e.options.extra&&e.options.extra.indexOf("inblock")>-1?(i=!0,e.options.extra=e.options.extra.substr(0,e.options.extra.indexOf("inblock"))):e.options.inblock&&(i=!0),i){var r=e.options.country;if(r&&"ES"!==r&&"MX"!==r&&"CO"!==r){var s;e.options.inblock=!0;for(var o=0;o<3;o++)e.options.inblockId=o,s=a.deepClone(e),this._createAndInitPluginInstance(s,t+o)}else e.options.inblock=!1,this._createAndInitPluginInstance(e,t)}else this._createAndInitPluginInstance(e,t)}else{var d=function(){this.createIntext(t,e)}.bind(this);setTimeout(d,500)}},r.prototype._createAndInitPluginInstance=function(t,e){var i=new s({api:e,config:t},this._device);this._testerManager.add(i),i.init(),window["SMIntext_"+e]=i},r.prototype.checkAdBlock=function(t,e){var i=function(){try{this.createIntext(t,e)}catch(t){p.error(t)}}.bind(this),r=function(){p.error("Blocking Ads: Yes"),e.options.callback&&"function"==typeof e.w[e.options.callback]&&e.w[e.options.callback]({status:"SunMediaEnd",class:e.class,ads:0})},a=document.createElement("script");a.src=n.SM_AD_BLOCKER_DETECT_JS_PATH,a.onerror=r,a.onload=function(){void 0===window.adblockDetector?r():window.adblockDetector.init({debug:!1,fireNow:!0,found:r,complete:function(t){!1===t?i():r()}})};try{document.getElementsByTagName("head")[0].appendChild(a)}catch(t){r()}},r.prototype.init=function(t){var e,i=this,r=i._parseExtraOptions(t.options.extra);r&&(t.options=a.deepExtend(t.options,r),delete t.options.extra),this._dftTag=new l(t.client+"/intext-1-0",t.options.ignoreDefaultTags),this._dftTracker=new c("outstream",t.client),t&&t.options&&!t.options.adPosition&&(t.options.adPosition=0);var n=t.options.adPosition.hasOwnProperty(this._device.mobileDesktop)?t.options.adPosition[this._device.mobileDesktop]:t.options.adPosition;"string"==typeof t.options.css&&(t.options.css=t.options.css.replace(/\r?\n|\r/g,""));for(var s=function(t,e){var i=this;return function(){i.checkAdBlock(t,e)}}.bind(this),o=0;o<n.length;o++){var d=parseInt(n[o]),h=a.deepClone(t);e=(new Date).getTime()+o;var u=d>0?d-1:d;h.options.adPosition=u+o,o>0?(h.options.adPosition+=3,h.ava.desktop.enabled=!1,h.ava.mobile.enabled=!1,setTimeout(s(e,h),500)):i.checkAdBlock(e,h)}0===t.options.adPosition.length&&(e=(new Date).getTime(),i.checkAdBlock(e,t))},r.prototype._parseExtraOptions=function(t){try{return JSON.parse(t)}catch(t){return!1}},t.exports=r},function(t,e,i){function r(t,e){function i(){var t=Object.assign({},S.config),e=t;d.info("Device: "+T.device.mobileDesktop),t.tags.sm&&t.tags.sm[T.device.mobileDesktop]&&(e.tag=t.tags.sm[T.device.mobileDesktop],e.defaultTag&&e.defaultTag[T.device.mobileDesktop.toUpperCase()]&&(e.tag=o.buildSunmediaTags(e.tag,e.defaultTag[T.device.mobileDesktop.toUpperCase()],T.device.mobileDesktop))),t.tags.client&&t.tags.client[T.device.mobileDesktop]&&(e.clientTag=t.tags.client[T.device.mobileDesktop]),e.priority&&(e.priority=t.priority[T.device.mobileDesktop],T.dcAdPosition="number"==typeof e.options.adPosition?e.options.adPosition:"no-pos",T.currentPriority=e.priority,T.initPlatformTrackerManager(e.it,e.defaultTracker,e.options)),e.ava=t.ava[T.device.mobileDesktop],e.banner=t.banner[T.device.mobileDesktop],void 0===e.banner.tag?e.banner.tag=[]:"string"==typeof e.banner.tag&&(e.banner.tag=[e.banner.tag]),e.loop&&(e.loop=t.loop[T.device.mobileDesktop]),e.minMargin=t.minMargin?t.minMargin:15;var i;g.isAMP()&&(e.ava.enabled=!1,e.options.fold=!1,e.options.class=[g.getAMPContainerClass()],a.CLOSE_MILLISECONDS=1e3);var s="string"==typeof e.options.class?e.options.class.trim():e.options.class;if(s&&s.length>0){var c=r(window,e.options.class,e.options.classPosition);if(c.c?(e.w=c.w,e.container=c.c):(c=r(window.parent,e.options.class,e.options.classPosition)).c&&(e.w=c.w,e.container=c.c),!e.container){if(T.initTimeoutCurrent<T.initTimeoutLimit)return T.initTimeoutCurrent++,T.initTimeout=setTimeout(function(){T.init()},2e3),!1;if(e.options.classMandatory)return!1;i=T.setContainerFromScript(e.options.adPosition),e.container=i.c,e.adPosition=i.ps,e.options.adPosition=i.ps,e.w=window}}else i=T.setContainerFromScript(),e.container=i.c,e.adPosition=i.ps,e.options.adPosition=i.ps,e.w=window;if(!e.container)throw new Error("SMx.container is undefined");e.zIndex=1;var l=e.container,h=[];h.unshift(l);for(var u=!1;l.parentNode&&l.parentNode!==e.w.document.body;)l=l.parentNode,h.unshift(l);for(var p=0;p<h.length;p++){var m=h[p];if(m.style){var f=e.w.getComputedStyle(m).getPropertyValue("position");!1===u&&"static"!==f&&(m.style.zIndex&&(e.zIndex=m.style.zIndex),e.w.getComputedStyle(m).getPropertyValue("z-index")&&(e.zIndex=e.w.getComputedStyle(m).getPropertyValue("z-index")),u=!0)}}return 0!==e.zIndex&&"auto"!==e.zIndex||!l.style||(l.style.zIndex&&(e.zIndex=l.style.zIndex),e.w.getComputedStyle(l).getPropertyValue("z-index")&&(e.zIndex=e.w.getComputedStyle(l).getPropertyValue("z-index"))),0!==e.zIndex&&"auto"!==e.zIndex||(e.zIndex=1),e.w.addEventListener("message",n,!1),e.options&&("number"==typeof e.options.skipreminder?(e.options.skipReminder=e.options.skipreminder>0,e.options.skipReminderTime=e.options.skipreminder):(e.options.skipReminder="boolean"==typeof e.options.skipReminder&&e.options.skipReminder,e.options.skipReminderTime="number"==typeof e.options.skipReminderTime?e.options.skipReminderTime:0)),e}function r(t,e,i){"string"==typeof e&&(e=e.split(","));for(var r={},n=0;n<e.length;n++)try{var a=e[n].trim();if("SMIntext"!==a&&(r=y(t,a,i)).c)break}catch(t){d.warning(t)}return r}function y(t,e,i){var r=function(t,e){return void 0===e&&(e=0),e>=t.length&&(e=t.length-1),t[e]},n={};n.w=t;try{var a,s,o;if(e.indexOf(".")>-1||e.indexOf("#")>-1)return a=t.document.querySelectorAll(e),n.c=r(a,i),n;if(t.document.getElementById(e))n.c=t.document.getElementById(e);else if(t.document.getElementsByClassName(e).length>0)a=t.document.getElementsByClassName(e),n.c=r(a,i);else{for(a=[],s=t.document.getElementsByTagName("div"),o=0;o<s.length;o++)s[o].getAttribute("itemprop")&&s[o].getAttribute("itemprop")===e&&a.push(s[o]);if(n.c=r(a,i),!n.c){for(a=[],s=t.document.getElementsByTagName("article"),o=0;o<s.length;o++)s[o].getAttribute("itemprop")&&s[o].getAttribute("itemprop")===e&&a.push(s[o]);n.c=r(a,i)}}}catch(t){}return n}l.call(this);var S=Object.assign({},t);this.states=Object.freeze(u.objInvert(["INITIAL","LOADING","READY","PLAYING","PAUSED","STARTING","COMPLETED","CLOSING"])),this.state=this.states.INITIAL;var T=this;this.api=S.api,this.device=e,this.players=[],this.played={state:"init",data:null},this.skippedViaOutOfPage=!1,this.loopIntents=1,this.hasBeenAds=!1,this.initTimeoutLimit=5,this.initTimeoutCurrent=1,this.tagsBlockHasChanged=!1;var A=S.config.it;this.clearfixInstanceId="SMIntext_clearfix_"+this.api,this.frameContainerInstanceId="SMIntext_frame_"+this.api,this.configStyleIntegrationId="SMIntext_config_css_"+A;this.loadingIntegrationName="SMIntext-loading-"+A,this.loadingClassName="SMIntext-loading "+this.loadingIntegrationName,this.loadingInstanceId="SMIntext-loading-"+this.api;this.referenceIntegrationName="SMIntext-reference-"+A,this.referenceClassName="SMIntext-reference "+this.referenceIntegrationName,this.referenceInstanceId="SMIntext-reference-"+this.api;this.effectiveClassName="SMIntext-effective SMIntext-effective-"+A,this.effectiveInstanceId="SMIntext-effective-"+this.api;var E="SMIntext-clearfix-"+A;this.clearfixClassName="SMIntext-clearfix "+E,this.clearfixInstanceId="SMIntext-clearfix-"+this.api;this.reminderIntegrationName="SMIntext-reminder-"+A,this.reminderClassName="SMIntext-reminder "+this.reminderIntegrationName,this.reminderInstanceId="SMIntext-reminder-"+this.api,this.referenceFoldHeight=30,this.currentScript=s.getCurrentSMScript(A),this.initDefaultAvaWidth(S.config),this.initialRatio={width:4,height:3},this.getContainerInScreen=function(t){for(var e=null,i=this,r=0;r<t.length;r++)!1===i.isOutOfScreen(t[r])&&(e=t[r]);return e},this.setContainerFromScript=function(t){var e,i,r=this.currentScript.parentNode,n=0;if(r&&1===r.nodeType)if(i=r,t&&0!==t.length)n=t;else{var a=[];for(e=0;e<r.childNodes.length;e++){var s=r.childNodes[e];1===s.nodeType&&u.isChildNodeAllowed(s)&&a.push(s),s===this.currentScript&&(n=a.length)}}return{c:i,ps:n}},this.externalLogsCallback=function(t){T.externalLogs||(T.externalLogs={}),T.externalLogs[t]=!0},this.initPlatformTrackerManager=function(t,e,i){if(!T.ptfTrackerManager){var r=!0;i.inblock&&i.inblockId&&i.inblockId>0&&(r=!1),T.ptfTrackerManager=new h(t,T.dcAdPosition,e,r,this.externalLogsCallback),T.ptfTrackerManager.initVideoTracker(T.currentPriority,T.loopIntents)}},this.init=function(){var t=this;try{t.initTimeout&&clearTimeout(t.initTimeout)}catch(t){}if(window.SMIntextPlaylist)for(var e=0;e<window.SMIntextPlaylist.length;e++)if("loading"===window.SMIntextPlaylist[e].state)return setTimeout(t.init.bind(this),1e3),!1;if(!S.config)return!1;var r=i(),n=t.ptfTrackerManager.fireOpportunity();if(this.dispatchPlatformTrackerEvent(this.EVENTS.SM_OPPORTUNITY_FIRED,n),!r)return!1;if(t.params=Object.assign({},r),t.initialAva=Object.assign({},t.params.ava),t.initialUp=t.params.options.up,t.dispatchEvent(t.EVENTS.SM_UPDATE_PARAMS,t.params),window.SMIntextPlaylist.length>0){for(var a=!1,s=0;s<window.SMIntextPlaylist.length;s++)window.SMIntextPlaylist[s].p.ava&&window.SMIntextPlaylist[s].p.ava.enabled&&(a=!0),t.api===window.SMIntextPlaylist[s].api&&(currentPlayer=s);t.params.ava&&a&&!t.params.options.inblock&&(t.params.ava.enabled=!1),t.params.banner&&(t.params.banner.display="fixed")}if(t.params.options.inblock){t.params.options.up||(t.params.options.up=!0),t.params.ava||(t.params.ava={}),t.params.ava.enabled||(t.params.ava.enabled=!0),t.params.ava.position="bottom_left";var o=Math.floor(360*t.avaDefaultWidth.mobile/640*t.params.options.inblockId)+60,d=Math.floor(360*t.avaDefaultWidth.desktop/640*t.params.options.inblockId+60);t.params.ava.bottom="mobile"===t.device.mobileDesktop?o:d}if(window.SMIntextPlaylist.push({p:t.params,state:"loading",api:S.api}),t.params.api=t.api,t.params.options.extra){var c=document.createElement("script");c.src="https://static.sunmedia.tv/SMSdk/extra/"+t.params.options.extra+"/extra.js?"+S.api,c.onload=t.afterExtra.bind(t),c.error=t.afterExtra.bind(t),document.getElementsByTagName("head")[0].appendChild(c)}else t.afterExtra()},this.afterExtra=function(){var t=this;if(t.params.whitelist&&t.params.whitelist.length>0){var e=m.decompose(t.params.w.location.href);if(e&&t.params.whitelist&&!t.params.whitelist.some(function(t){return t===e.host}))return void d.info("The host "+e.host+" is not allowed to run this ad");d.info("HOST "+e.host+" ALLOWED")}"mobile"===this.device.mobileDesktop&&t.mobileNetBlacklist?t.device.checkWifi(function(i){i?d.info("HOST  "+e.host+" *NOT* ALLOWED TO RUN IN MOBILE NET"):t.loadPlayer()}):t.loadPlayer()},this.loadPlayer=function(){var t=this;t.setupPluginElements(),t.setupPluginStyle(),c.checkForScreenHunter(t.params);var e=t.newSMPlayer();e.addListener("all",t),t.params.clientTag&&e.loadTag(t.params.clientTag,"c"),t.params.tag&&e.loadTag(t.params.tag,"sm"),t.params.priority&&e.setTagPriority(t.params.priority),t.players.push(e),t.state=t.states.LOADING,t.frameContainer.style.display="block",t.isScrolledIntoView(t.frameContainer)||"mobile"!==t.device.mobileDesktop||(t.players[0].adPlayer.autoplay=!1,t.players[0].adPlayer.removeAttribute("autoplay")),t.createIntervalByName("effectivePosition",t.setScrollEffective,50);for(var i=0;i<window.SMIntextPlaylist.length;i++)window.SMIntextPlaylist[i].api===t.params.api&&(window.SMIntextPlaylist[i].state="loaded");t.mutationObserver(),t.samsungb=navigator.userAgent.toLowerCase().indexOf("samsungbrowser"),t.samsungb>-1&&(t.players[0].adPlayer.addEventListener("canplaythrough",t.videoMsn.bind(t)),t.players[0].adPlayer.addEventListener("error",t.videoMsn.bind(t)),t.players[0].adPlayer.addEventListener("suspend",t.videoMsn.bind(t)),t.players[0].adPlayer.addEventListener("waiting",t.videoMsn.bind(t)),t.players[0].adPlayer.addEventListener("stalled",t.videoMsn.bind(t))),t.players[0].start(),t.createIntervalByName("outOfPageInterval",t.setOutOfPage,50),t.bringPlayerUp()},this.setupPluginStyle=function(){var t="."+this.referenceIntegrationName+"{background-color:#e7e7e7;position:relative;width:100%;float:left; z-Index:1;margin-top:10px;margin-bottom:20px;}."+this.reminderIntegrationName+"{width:100%;}.SMIntext-loading {z-index: 18;position: absolute;top: 50%;left: 50%;margin-top: -32px;margin-left: -32px;height: 64px;width: 64px;display: none;}.SMIntext-loading div {box-sizing: border-box;display: block;position: absolute;width: 51px;height: 51px;margin: 6px;border: 6px solid;border-radius: 50%;animation: SMLoading 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;border-color: #ff8f00 transparent transparent transparent;}.SMIntext-loading div:nth-child(1) { animation-delay: -0.45s; }.SMIntext-loading div:nth-child(2) { animation-delay: -0.3s; }.SMIntext-loading div:nth-child(3) { animation-delay: -0.15s; }@keyframes SMLoading { 0% {transform: rotate(0deg);} 100% {transform: rotate(360deg); }}";"string"==typeof T.params.options.css&&(t+=T.params.options.css);var e=T.getOrCreateStyle(T.configStyleIntegrationId,t);T.params.w.document.getElementsByTagName("head")[0].appendChild(e),T.buildCSS("ref"),T.buildCSS("noava"),T.buildCSS("starting")},this.setupPluginElements=function(){for(var t=[],e=0;e<T.params.container.childNodes.length;e++){var i=T.params.container.childNodes[e];1===i.nodeType&&u.isChildNodeAllowed(i)&&t.push(i)}T.effective=T.getOrCreateEffective(),T.params.container.insertBefore(T.effective,t[T.params.options.adPosition]),T.reference=T.getOrCreateReference(),T.params.container.insertBefore(T.reference,t[T.params.options.adPosition]),T.loadingDiv=T.createLoadingDiv(),T.reference.appendChild(T.loadingDiv),T.clearfix=T.getOrClearfixDiv(),T.params.container.insertBefore(T.clearfix,t[T.params.options.adPosition]),T.frameContainer=T.getOrCreateFrameContainer(),g.isAMP()?T.params.w.document.getElementById("c").appendChild(T.frameContainer):T.params.w.document.body.appendChild(T.frameContainer)},this.createLoadingDiv=function(){var t=T.params.w.document.getElementById(T.loadingInstanceId);return t||((t=T.params.w.document.createElement("div")).setAttribute("id",T.loadingInstanceId),t.setAttribute("class",T.loadingClassName+" "+T.device.mobileDesktop)),t.innerHTML="<div></div><div></div><div></div><div></div>",t},this.getOrCreateReference=function(){var t=T.params.w.document.getElementById(T.referenceInstanceId);return t?t.innerHTML="":((t=T.params.w.document.createElement("div")).setAttribute("id",T.referenceInstanceId),t.setAttribute("class",T.referenceClassName+" "+T.device.mobileDesktop)),t},this.getOrCreateEffective=function(){var t=T.params.w.document.getElementById(T.effectiveInstanceId);return t||((t=T.params.w.document.createElement("div")).setAttribute("id",T.effectiveInstanceId),t.setAttribute("class",T.effectiveClassName+" "+T.device.mobileDesktop),t.setAttribute("style","position:relative;width:100%;height:1px;")),t},this.getOrClearfixDiv=function(){var t=T.params.w.document.getElementById(T.clearfixInstanceId);return t||((t=T.params.w.document.createElement("div")).setAttribute("id",T.clearfixInstanceId),t.setAttribute("class",T.clearfixClassName+" "+T.device.mobileDesktop),t.setAttribute("style",'display:block;clear:both;content:"";')),t},this.getOrCreateFrameContainer=function(){var t=T.params.w.document.getElementById(T.frameContainerInstanceId);t||((t=T.params.w.document.createElement("div")).setAttribute("id",T.frameContainerInstanceId),t.setAttribute("data-id",A),t.setAttribute("data-device",T.device.mobileDesktop));var e=T.params.ava.enabled?"SMstarting":"SMContainer";return t.setAttribute("class",e+"_"+T.api),t},this.getOrCreateStyle=function(t,e){var i=T.params.w.document.getElementById(t);if(!i)if((i=T.params.w.document.createElement("style")).setAttribute("id",t),i.setAttribute("type","text/css"),i.styleSheet)i.styleSheet.cssText=e;else{var r=T.params.w.document.createTextNode(e);i.appendChild(r)}return i},this.mutationObserver=function(){var t=(T=this).params.w.document.body,e=function(t){try{var e={};t.forEach(function(t){if((-1===t.target.id.indexOf("SM")||-1!==t.target.id.indexOf(T.effectiveInstanceId))&&("childList"===t.type||"attributes"===t.type&&t.oldValue&&t.oldValue!==t.target.className))throw T.rebuildCSSDirect(),e})}catch(t){}};T.styleMutationObserver=MutationObserver?new MutationObserver(e):WebKitMutationObserver?new WebKitMutationObserver(e):null,T.styleMutationObserver?T.styleMutationObserver.observe(t,{attributes:!0,childList:!0,subtree:!0,attributeOldValue:!0,attributeFilter:["class","style"]}):T.createIntervalByName("makingStyles",T.rebuildCSSDirect,500)},this.stopMutationObserver=function(){try{T.styleMutationObserver.disconnect()}catch(t){}},this.newSMPlayer=function(){var t=this;return new p("SMIntext",t.frameContainer,t.params.options,t.device,t.params.w,t.params.api)},this.setScrollEffective=function(){if(!T.effectiveFired){var t=T.reference.parentNode?T.reference:T.effective,e=this.isScrolledIntoView(t),i=this.isScrolledBellowView(t);if(e||i){if(!T.skipAdTimeout){var r="mobile"===T.device.mobileDesktop?1e5:6e4;T.skipAdTimeout=setTimeout(function(){"init"===T.played.state&&(T.players[0]&&T.players[0].vast?T.players[0].vast.skipAd():T.close())},r)}T.fireEffectiveTracker(),T.fireUnfilledTrackers()}}},this.unfold=function(){var t=this;t.params.options.fold=!1,t.buildCSS("ref"),t.buildCSS("maxmin")},this.on=function(t,e){var i=this;switch(t){case"NoVideoReminderImpression":this.unfold();break;case"AdReplay":i.ptfTrackerManager&&(i.state=i.states.READY,i.players[0].setTagPriorityToSunMedia(),i.currentPriority=a.SM_PRIORITY.SUN_MEDIA,i.ptfTrackerManager.initVideoTracker(i.currentPriority,i.loopIntents+1)),i.restarted=!0,i.effectiveFired=!1,i.createIntervalByName("effectivePosition",i.setScrollEffective,50),i.createIntervalByName("scrollPositionInterval",i.setScrollPosition,5);break;case"AdLoaded":this.isSelectedTag=o.isSelectedTag(this.players[0].vast.currentTagUrl,this.device.mobileDesktop),!0===this.isSelectedTag&&(this.params.ava.position="top",this.params.ava.enabled=!0,this.params.options.up=!0,this.bringPlayerUp()),this.adFactory&&"SSP"===this.adFactory.type?(this.state=this.states.STARTING,this.players[0].vast.startAd()):(this.loadingDiv&&(this.loadingDiv.style.display="none"),this.unfold()),this.sspSize=null,i.played={state:"loaded",data:e},i.currentTimStarted=0,i.state=this.states.READY,i.buildCSS("ref"),i.buildCSS("maxmin"),"mobile"===this.device.mobileDesktop?((i.isScrolledIntoView(i.frameContainer)||i.evalStartAdAvaCondition())&&(i.state=i.states.STARTING,i.players[0].vast.startAd()),i.touchenabled||(i.touchenabled=!0,this.params.w.document.addEventListener("touchstart",b,!0),this.params.w.document.addEventListener("touchcancel",b,!0),this.params.w.document.addEventListener("touchmove",b,!0),this.params.w.document.addEventListener("touchend",b,!0)),i.samsungb>-1&&i.createIntervalByName("samsungInterval",i.setScrollPositionSamsung,5)):i.createIntervalByName("scrollPositionInterval",i.setScrollPosition,5),g.requestResizeUntilSuccess(this.reference.offsetWidth,this.reference.offsetHeight,!0);break;case"AdStarted":this.adFactory&&"SSP"===this.adFactory.type&&(this.loadingDiv&&(this.loadingDiv.style.display="none"),this.unfold());try{if(i.params.w){var r=function(){if(i.state===i.states.PLAYING||i.state===i.states.PAUSED){if(i.minimized)return!1;i.buildCSS("maxmin"),i.buildCSS("ref"),i.players[0].fullscreen||i.maximizeVideo(!0)}};i.params.w.addEventListener("resize",function(){setTimeout(r.bind(this),200)}.bind(i),!1),g.isAMP()&&i.players[0].adPlayer.addEventListener("pause",function(t){this.tryToResumePlayer(!1)}.bind(this))}}catch(t){}i.params.options.callback&&"function"==typeof i.params.w[i.params.options.callback]&&i.params.w[i.params.options.callback]({status:"SunMediaStart"}),this.minimized&&this.resizePlayer(),this.adFactory&&this.adFactory.type&&"SSP"===this.adFactory.type&&this.buildCSS("ref");break;case"AdPlaying":i.played={state:"played",data:{playedAdsCount:1}},this.state=this.states.PLAYING,i.buildCSS("maxmin"),i.minimized||i.players[0].fullscreen||i.maximizeVideo(!0),i.createIntervalByName("scrollPositionInterval",i.setScrollPosition,5);break;case"AdPaused":this.state=this.states.PAUSED;break;case"AdComplete":i.clearAllIntervals();try{this.state!==this.states.COMPLETED&&(this.state=this.states.COMPLETED,i.endAd(e))}catch(t){this.state=this.states.COMPLETED,d.warning(t)}break;case"SMImaLoaded":i.minimized||this.players[0].fullscreen||(i.buildCSS("maxmin"),i.maximizeVideo());break;case"AdRemainingTimeChange":if(i.samsungStartClick&&e>0)try{i.samsungStartClick.parentNode.removeChild(i.samsungStartClick)}catch(t){}"mobile"===i.device.mobileDesktop&&i.touchenabled&&e>0&&(i.touchenabled=!1,this.params.w.document.removeEventListener("touchstart",b,!0),this.params.w.document.removeEventListener("touchend",b,!0),this.params.w.document.removeEventListener("touchcancel",b,!0),this.params.w.document.removeEventListener("touchmove",b,!0));break;case"SMAdRequest":var n=this.ptfTrackerManager.fireRequest();this.dispatchPlatformTrackerEvent(this.EVENTS.SM_REQUEST_FIRED,n);break;case"AdTracker":!1===this.ptfTrackerManager.isBillingTracker(e)&&this.fireTracker(e);break;case a.EVENTS.SM.TRACKER:!0===this.ptfTrackerManager.isBillingTracker(e)&&(this.fireTracker(e),g.reportEntity(this.api));break;case a.EVENTS.SM.UNFILLED:this.updateBlockEmptyFlags(!0);break;case a.EVENTS.SM.TAGS_BLOCK_CHANGED:this.tagsBlockHasChanged=!0,this.currentPriority=this.params.priority===a.SM_PRIORITY.CLIENT?a.SM_PRIORITY.SUN_MEDIA:a.SM_PRIORITY.CLIENT,this.ptfTrackerManager.initVideoTracker(this.currentPriority,this.loopIntents);break;case a.EVENTS.SM.PLAYER_FULLSCREEN_EXIT:var s=this.minimized?"SMMinimize_":"SMMaximize_";this.frameContainer.className=s+this.api,this.players[0].resize(this.frameContainer.offsetWidth,this.frameContainer.offsetHeight);break;case a.EVENTS.SM.UPDATE_CONFIG_OPTIONS:e.hasOwnProperty("ava")&&(this.params.ava.enabled=e.ava),e.hasOwnProperty("restart")&&(this.params.options.restart=e.restart);break;case a.EVENTS.AD_FACTORY:this.onAdFactory(e);break;case a.EVENTS.AD_FACTORY_SSP_VPAID_SIZE:this.onAdFactoryVpaidSSPSize(e);break;case a.EVENTS.SM.NON_STARTED:this.state="NONSTARTED",i.samsungb>-1?i.createIntervalByName("samsungInterval",i.setScrollPositionSamsung,5):i.createIntervalByName("scrollPositionInterval",i.setScrollPosition,5);break;case a.EVENTS.SM.UPDATE_TRACKER:i.ptfTrackerManager.updateTracker(e);break;case"AdError":case"AdCompleted":case"AdEnded":this.adFactory=null;break;case"AdSkipped":this.params.loop&&this.params.loop.enabled&&(this.params.loop.enabled=!1),this.adFactory=null;break;case"changeBillingPB":"sm"===this.currentPriority&&this.ptfTrackerManager.setPBType(e)}this.dispatchEvent(t,e)},this.setScrollPositionSamsung=function(){if("samsung"!==T.played.state&&(T.played.state="samsung"),this.isScrolledIntoView(this.frameContainer)&&T.samsungstart){if(T.clearIntervalByName("samsungInterval"),T.samsungStartClick)return!1;var t=document.createElement("div");t.setAttribute("id","SMIntext_SamsungStarted_"+T.api),t.setAttribute("style","width:100%;height:100%;position:absolute;top:0px;left:0px;z-Index:50000000;background-color:#e5e5e5;opacity:0.5;");var e='<svg style="position:relative; width:50%;height:50%;left:25%;top:25%;" viewBox="0 0 200 200" alt="Play video">';e+='<circle cx="100" cy="100" r="90" fill="none" stroke-width="15" stroke="#666"/>',e+='<polygon points="70, 55 70, 145 145, 100" fill="#666"/>',e+="</svg>",t.innerHTML=e,t.onclick=function(){try{T.samsungStartClick.parentNode.removeChild(T.samsungStartClick)}catch(t){}T.touchSamsungBrowser()},T.samsungStartClick=t,T.frameContainer.appendChild(t)}},this.touchSamsungBrowser=function(){var t=T.players[0].adPlayer;T.samsungb>-1&&t.offsetWidth>1&&t.offsetHeight>1&&(T.samsungstart?(T.state===T.states.PLAYING&&T.players[0].vast.isVPAID||T.state===T.states.STARTING&&!T.players[0].vast.isVPAID)&&T.players[0].resumeAd():T.state===T.states.READY&&(T.state=this.states.STARTING,T.players[0].vast.startAd()))},this.touch=function(){T.samsungb>-1?T.touchSamsungBrowser():T.setScrollPosition()};var b=T.touch.bind(T);this.maximizeVideo=function(t){this.players[0].fullscreen||this.adFactory&&"SSP"===this.adFactory.type&&this.params.ava.enabled||(this.frameContainer.className="SMMaximize_"+this.api,this.minimized=!1,!this.players[0].fullscreen&&t&&this.resizePlayer(),this.adFactory&&this.players[0].resize(this.frameContainer.offsetWidth,this.frameContainer.offsetHeight,"normal",this.params.options.up))},this.minimizeVideo=function(t){this.players[0].fullscreen||(this.frameContainer.className="SMMinimize_"+this.api,this.minimized=!0,this.players[0].fullscreen||this.resizePlayer(t),this.adFactory&&this.players[0].resize(this.frameContainer.offsetWidth,this.frameContainer.offsetHeight,"normal",this.params.options.up))},this.setOutOfPage=function(){!this.isOutOfScreen(this.reference)||this.state!==this.states.PLAYING&&this.state!==this.states.PAUSED?this.isOutOfScreen(this.reference)&&(this.skippedViaOutOfPage=!0,this.close({playedAdsCount:0,remainderAds:null})):(this.skippedViaOutOfPage=!0,this.players[0].vast.skipAd())},this.tryToResumePlayer=function(t){try{!t&&this.state===this.states.PLAYING&&this.players[0].adPlayer.paused&&T.players[0].vast.clientStarted&&this.players[0].duration-this.players[0].adCurrentTime>2&&(this.adFactory&&this.adFactory.type&&"SSP"!==this.adFactory.type?this.players[0].resumeAd():this.adFactory||this.players[0].resumeAd())}catch(t){}},this.setScrollPosition=function(){if(this.state!==this.states.COMPLETED){var t=this.isScrolledIntoView(this.reference);try{if(this.params.options.up&&(t=this.isScrolledIntoView(this.frameContainer)),(t||T.evalStartAdAvaCondition())&&"NONSTARTED"===this.state)return this.state="LOADING",void this.players[0].vast.initAd();this.state===this.states.READY&&(t&&this.players.length||this.minimized||T.evalStartAdAvaCondition())&&(this.state=this.states.STARTING,this.players[0].vast.startAd())}catch(t){}this.tryToResumePlayer(t);var e=this.isScrolledOutOfAvaRegion(this.reference);try{if(this.state!==this.states.PLAYING||this.players[0].fullscreen||t||this.minimized||T.players[0].vast.clientStarted||!T.players[0].vast.isVPAID||T.players[0].pauseAd(),t&&!T.players[0].vast.clientStarted&&T.players[0].vast.isVPAID?this.state!==this.states.PAUSED&&this.state!==this.states.PLAYING||(this.players[0].vast.startAd(),this.players[0].pauseAd(),this.players[0].resumeAd(),this.players[0].vast.clientStarted=!0):this.minimized&&e&&(this.sspSize||this.maximizeVideo(!0)),!this.params.ava.enabled)return;this.players[0].fullscreen||e||this.minimized||!T.players[0].vast.clientStarted||this.minimizeVideo()}catch(t){}}},this.videoMsn=function(t){"canplaythrough"===t.type&&(T.samsungstart=!0)},this.isScrolledOutOfAvaRegion=function(t){var e=t.getBoundingClientRect(),i=u.windowHeight(this.params.w)-50;return e.top>=100&&e.bottom<=i},this.isScrolledIntoView=function(t){var e=t.getBoundingClientRect();return e.top>=0&&e.bottom-(e.height-55)<=u.windowHeight(this.params.w)},this.isScrolledBellowView=function(t){return t.getBoundingClientRect().top<0},this.isOutOfScreen=function(t){var e=t.getBoundingClientRect(),i=Math.round(e.left),r=Math.floor(e.left+e.width);return i<0||r>u.windowWidth(window)},this.createIntervalByName=function(t,e,i){T.intervals=T.intervals||{},T.intervals[t]||(T.intervals[t]=setInterval(e.bind(T),i))},this.clearIntervalByName=function(t){try{T.intervals.hasOwnProperty(t)&&(clearInterval(T.intervals[t]),delete T.intervals[t])}catch(t){d.warning(t)}},this.clearAllIntervals=function(){T.stopMutationObserver(),T.clearIntervalByName("makingStyles"),T.clearIntervalByName("scrollPositionInterval"),T.clearIntervalByName("outOfPageInterval")},this.endAd=function(t){this.initDefaultAvaWidth(this.params),this.params.ava=Object.assign({},this.initialAva),this.params.options.up=this.initialUp,this.isSelectedTag=!1,this.adFactory=null,this.sspSize=null,this.players[0].removeCurrentAd(),this.params.ava.enabled&&this.buildCSS("maxmin"),this.hasBeenAds=this.hasBeenAds||t&&t.playedAdsCount>0,this.params.loop&&this.params.loop.enabled&&this.hasBeenAds&&this.params.loop.onlyOneVideo&&(this.params.loop.enabled=!1);try{T.samsungStartClick.parentNode.removeChild(T.samsungStartClick)}catch(t){}if(T.played={state:"ended",data:t},t&&t.reminderAds&&t.reminderAds.length>0){this.pluginEnded=!0,this.fireUnfilledTrackers(),this.params.content=null,this.params.banner=null,this.params.options.restart=!1,this.reminderContainer=this.params.w.document.createElement("div"),this.reminderContainer.setAttribute("id",this.reminderInstanceId),this.reminderContainer.setAttribute("class",this.reminderClassName+" "+this.device.mobileDesktop);for(var e=[],i=0;i<this.reference.parentNode.childNodes.length;i++){var r=this.reference.parentNode.childNodes[i];1===r.nodeType&&u.isChildNodeAllowed(r)&&e.push(r)}this.reference.parentNode.insertBefore(this.reminderContainer,e[this.params.options.adPosition]);var n=function(){g.isAMP()&&(this.close(t),g.closeAd())}.bind(this);this.params.w["reminderDisplay"+this.api]=new v(t.reminderAds,this.params.ava,this.reference,this.params.w,this.device.mobileDesktop,this.params.options.skipReminder,this.params.options.skipReminderTime,this.params.api,this.reminderContainer,n),this.close(t)}else if(this.params.loop&&this.params.loop.enabled){var a=t&&0===t.playedAdsCount||this.params.loop.autoStart;this.restartPlayer(a)}else this.params.banner&&this.params.banner.tag.length>0&&("empty"===this.params.banner.schedule&&t&&0===t.playedAdsCount||"always"===this.params.banner.schedule)?(this.pluginEnded=!0,this.fireUnfilledTrackers(),this.params.w.bannerDisplay=new f(this.params,this.device),this.close(t),this.params.banner=!1):(this.pluginEnded=!0,this.fireUnfilledTrackers(),this.minimized&&this.maximizeVideo(),this.params.options.restart&&t&&t.playedAdsCount>0?(this.players[0].displayRestart(function(){this.clearAllIntervals(),this.endAd(t)}.bind(this)),this.params.options.restart=!1):this.params.content&&this.params.content.type&&"string"==typeof this.params.content.data&&""!==this.params.content.data.trim()?(this.displayStatic(this.params.content,this.close.bind(this),t),this.params.content.type=!1):this.close(t))},this.displayStatic=function(t){var e=this.params.content,i=document.createElement("div");i.id="SMAuxContent";var r=this.reference.offsetHeight;r<2&&(r=360*this.reference.offsetWidth/640),i.setAttribute("style","width:100%;height:"+r+"px;transform:translateX(-50%);margin-left:50%;margin-bottom:10px;");var n;"img"===e.type?((n=new Image).src=e.data,n.style.maxWidth="100%"):"video"===e.type?((n=document.createElement("video")).setAttribute("playsinline",""),n.setAttribute("webkit-playsinline",""),n.setAttribute("muted",""),n.setAttribute("autoplay",""),n.setAttribute("controls",""),n.src=e.data,n.style.height=n.style.width="100%"):i.innerHTML=e.data,n&&i.appendChild(n),this.params.container.insertBefore(i,this.params.container.childNodes[this.params.options.adPosition]),this.close(t)},this.close=function(t){if(this.dispatchEvent(this.EVENTS.SM_COMPLETED,this.api),T.clearAllIntervals(),this.state!==T.states.CLOSING){this.state=T.states.CLOSING,window.SMDevTesting&&console.log("SMDevTesting",window.SMDevTesting),t||(t={playedAdsCount:0,remainderAds:null}),this.loadingDiv&&(this.loadingDiv.style.display="none"),this.reference.style.height="0px";var e=g.isAMP()?"relative":window.getComputedStyle(this.frameContainer).getPropertyValue("position"),i=window.getComputedStyle(this.frameContainer).getPropertyValue("top"),r=window.getComputedStyle(this.frameContainer).getPropertyValue("left"),n=window.getComputedStyle(this.frameContainer).getPropertyValue("width"),s=window.getComputedStyle(this.frameContainer).getPropertyValue("z-index"),o=" .SMMaximize_"+this.params.api+"{position:"+e+";top:"+i+";left:"+r+";height:0px !important;width:"+n+";z-Index:"+s+";}",d="SMStyle_maxmin_"+this.api,c=document.createElement("style");c.type="text/css",c.innerHTML=o,c.id=d,document.getElementById(d)&&document.getElementById(d).parentNode.removeChild(document.getElementById(d)),document.getElementsByTagName("head")[0].appendChild(c),this.minimized&&this.maximizeVideo(),this.params.options.callback&&"function"==typeof this.params.w[this.params.options.callback]&&this.params.w[this.params.options.callback]({status:"SunMediaEnd",ads:t.playedAdsCount,container:this.params.container}),setTimeout(function(){this.reference&&this.reference.parentNode&&this.reference.parentNode.removeChild(this.reference),this.frameContainer&&this.frameContainer.parentNode&&this.frameContainer.parentNode.removeChild(this.frameContainer),this.containerSizeChange(),this.dispatchEvent(this.EVENTS.CLOSED,this),this.params.w.bannerDisplay||this.reminderContainer||g.closeAd()}.bind(this),a.CLOSE_MILLISECONDS)}},this.containerSizeChange=function(){if(window.SMIntextPlaylist&&window.SMIntextPlaylist.length>0){for(var t=-1,e=0;e<window.SMIntextPlaylist.length;e++)try{window.SMIntextPlaylist[e].api!==this.params.api?window["SMIntext_"+window.SMIntextPlaylist[e].api].rebuildCSS():this.skippedViaOutOfPage&&(this.skippedViaOutOfPage=!1,t=e)}catch(t){}t>-1&&window.SMIntextPlaylist.splice(t,1)}},this.rebuildCSS=function(){setTimeout(function(){try{T.buildCSS("starting"),T.buildCSS("noava"),T.buildCSS("maxmin"),T.minimized||!T.players||T.players[0].fullscreen||T.maximizeVideo()}catch(t){}},500)},this.rebuildCSSDirect=function(){T.buildCSS("starting"),T.buildCSS("noava"),T.buildCSS("maxmin"),T.minimized||!T.players||T.players[0].fullscreen||T.maximizeVideo()},this.getCreativeHeight=function(t){try{var e=1,i=this.players[0].vast.mediaFileSelected,r=0,n=0;i&&(r=i.width,n=i.height),0!==parseInt(r,10)&&r&&"undefined"!==r||(r=640,n=360);var a=this.getRatio(r,n),s=r/a+":"+n/a;switch(i.apiFramework&&"vpaid"===i.apiFramework.toLowerCase()&&(s="16:9"),s){case"9:16":case"16:9":e=360*t/640,this.ratio=1;break;case"3:4":case"4:3":e=360*t/480,this.ratio=2;break;case"76:135":e=540*t/304,this.ratio=3;break;default:e=360*t/640,this.ratio=1}}catch(i){e=360*t/640,this.ratio=1}return d.info("SMIntext ratio",this.ratio),e},this.getRatio=function(t,e){return 0===e?t:this.getRatio(e,t%e)}}function n(t){}var a=i(6),s=i(7),o=i(8),d=i(9),c=i(10),l=i(11),h=i(13),u=i(3),p=i(16),m=i(28),f=i(61),v=i(44),g=i(21);(r.prototype=Object.create(l.prototype)).constructor=r,r.prototype.EVENTS={SM_OPPORTUNITY_FIRED:"SMOpportunityFired",SM_REQUEST_FIRED:"SMRequestFired",SM_EFFECTIVE_FIRED:"SMEffectiveFired",SM_UNFILLED_FIRED:"SMUnfilledFired",SM_VIDEO_TRACKER_FIRED:"SMVideoTrackerFired",SM_AVA_DONE:"SMAvaDone",SM_COMPLETED:"SMCompleted",SM_UPDATE_PARAMS:"SMUpdateParams",BROADCAST:"SMPluginBroadcast",CLOSED:"SMPluginClosed"},r.prototype.dispatchPlatformTrackerEvent=function(t,e){e&&e.urlList.length&&this.dispatchEvent(t,e)},r.prototype.updateBlockEmptyFlags=function(t){t=void 0!==t&&(t&&!0),this.currentPriority===a.SM_PRIORITY.SUN_MEDIA?this.sunMediaBlockEmpty=void 0!==this.sunMediaBlockEmpty?t&&this.sunMediaBlockEmpty:t:this.clientBlockEmpty=void 0!==this.clientBlockEmpty?t&&this.clientBlockEmpty:t},r.prototype.fireTracker=function(t){var e=this.ptfTrackerManager.isImpressionTracker(t);e&&this.updateBlockEmptyFlags();var i;if(this.hasBeenAds){var r=this.ptfTrackerManager.isSkipTracker(t);(e||r)&&(i=this.ptfTrackerManager.fireVideoTracker(t))}else i=this.ptfTrackerManager.fireVideoTracker(t);this.dispatchPlatformTrackerEvent(this.EVENTS.SM_VIDEO_TRACKER_FIRED,i)},r.prototype.fireEffectiveTracker=function(){this.effectiveFired=!0,this.clearIntervalByName("effectivePosition");var t=this.ptfTrackerManager.fireEffective();this.dispatchPlatformTrackerEvent(this.EVENTS.SM_EFFECTIVE_FIRED,t)},r.prototype.fireUnfilledTrackers=function(){var t;if(this.effectiveFired&&this.pluginEnded){if(this.tagsBlockHasChanged)t=this.ptfTrackerManager.fireUnfilled(this.sunMediaBlockEmpty,this.clientBlockEmpty);else{var e=this.params.priority===a.SM_PRIORITY.SUN_MEDIA;t=this.ptfTrackerManager.fireUnfilled(this.sunMediaBlockEmpty&&e,this.clientBlockEmpty&&!e)}this.dispatchPlatformTrackerEvent(this.EVENTS.SM_UNFILLED_FIRED,t)}},r.prototype.evalStartAdAvaCondition=function(){return this.params.ava.enabled&&!0===this.effectiveFired},r.prototype.resizePlayer=function(t){var e=this.frameContainer.offsetWidth,i=this.frameContainer.offsetHeight;if(this.adFactory&&this.adFactory.width&&"SSP"!==this.adFactory.type){var r=this.getAdFactoryCreativeSize();i=r.height,e=r.width}this.players[0].resize(e,i,"normal",t)},r.prototype._buildStyle=function(t){var e,i=this.getAdFactoryCreativeSize();switch(t){case"maxmin":try{var r=window.getComputedStyle(this.reference).getPropertyValue("z-index");parseInt(this.params.zIndex,10)<=parseInt(r,10)&&(this.params.zIndex=parseInt(r,10)+10)}catch(t){}var n=i.width,a=i.height,d=this.reference.getBoundingClientRect(),c=d.left;this.params.options.fold&&(a=this.referenceFoldHeight),this.adFactory&&this.adFactory.height&&this.adFactory.width&&this.adFactory.forceDimensions&&d.width>n&&(c+=(d.width-n)/2);var l=this.sspSizeBanner();if(this.sspSize&&l&&(0===(y=d.width)&&(y=this.params.container.offsetWidth),this.sspSize.rescale?(n=d.width,a=d.width*this.sspSize.h/this.sspSize.w,c=d.left):(n=this.sspSize.w,a=this.sspSize.h,c=d.left+(d.width-this.sspSize.w)/2)),g.isAMP()&&g.isAMPStickyIntegration())if(l){var h=g.convertSizesForStickyAd(n,a);n=h.width,a=h.height,c=d.left+(d.width-n)/2}else a=g.getStickyAdMaxHeight();c+="px",e=".SMMaximize_"+this.api+"{position:absolute !important; top:"+s.getElementPosition(this.reference).y+"px !important;left:"+c+" !important;width:"+n+"px !important;height:"+a+"px !important;z-index:"+this.params.zIndex+";}";var u=this.avaDefaultWidth.desktop;"desktop"!==this.device.mobileDesktop&&(u=this.avaDefaultWidth.mobile),"number"==typeof this.params.ava.width&&(u=this.params.ava.width);var p;if(this.adFactory&&this.adFactory.forceDimensions&&(this.adFactory.width&&parseInt(this.adFactory.width,10)>0&&void 0!==this.adFactory.width&&(u=this.adFactory.width),this.adFactory.height&&parseInt(this.adFactory.height,10)>0&&void 0!==this.adFactory.height&&(p=this.adFactory.height),void 0===p&&(p=this.getHeightFromWidth(u)),"desktop"!==this.device.mobileDesktop&&(u/=2,p/=2)),void 0===p){p=this.getHeightFromWidth(u);var m=this.getCreativeHeight(u);("16:9"!==o.getRatioAsString(u,m)||this.adFactory||o.isVerificationTag(this.players[0]))&&(p=m)}var f=this.params.w.getComputedStyle(this.reference),v={height:p,width:u};if("desktop"!==this.device.mobileDesktop&&(v.right=parseInt(f.right),v.left=parseInt(f.left)),this.sspSize&&this.sspSizeBanner()){var y=v.width;if(this.sspSize.rescale?(v.width=y,v.height=y*this.sspSize.h/this.sspSize.w):(v.width=this.sspSize.w,v.height=this.sspSize.h),this.sspSize.avareduce&&(v.width=v.width/2,v.height=v.height/2),"desktop"!==this.device.mobileDesktop&&this.sspSize.rescaleMobile&&(v.width=v.width/2,v.height=v.width*this.sspSize.h/this.sspSize.w),"desktop"!==this.device.mobileDesktop&&this.sspSize.mobileWidth){var S=this.avaDefaultWidth.mobile;v.width=this.sspSize.mobileWidth*S/100,v.height=v.width*this.sspSize.h/this.sspSize.w}}i=this.getAdFactoryCreativeSize();var T=o.getFrameAVAStyle(this.params.ava,i,v);e+=".SMMinimize_"+this.api+"{position:fixed!important;z-Index:900000;"+T+"}";break;case"noava":e=".SMContainer_"+this.api+"{position:absolute !important;top:"+s.getElementPosition(this.reference).y+"px !important;left:"+this.reference.getBoundingClientRect().left+"px !important;width:"+this.reference.getBoundingClientRect().width+"px !important;height:"+this.reference.getBoundingClientRect().height+"px !important;z-Index:20000}";break;case"ref":var A=this.buildReferenceStyle();e="#"+this.referenceInstanceId+"{"+A+"}";break;case"starting":var E=this.reference.getBoundingClientRect(),b=this.params.options.fold?this.referenceFoldHeight:Math.round(360*E.width/640);e=".SMstarting_"+this.api+"{position:absolute !important;top:"+s.getElementPosition(this.reference).y+"px !important;left:"+E.left+"px !important;width:"+E.width+"px !important;height:"+b+"px !important;}"}return e},r.prototype.buildReferenceStyle=function(){var t=this.getAdFactoryCreativeSize(),e=this.reference.getBoundingClientRect(),i=e.width>0?e.width:this.params.container.offsetWidth,r=this.adFactory&&t.height?t.height:this.getHeightFromWidth(i),n=0;this.adFactory&&this.adFactory.height&&this.adFactory.forceDimensions&&(r=t.height),this.sspSize&&this.sspSizeBanner()&&!this.params.ava.enabled&&(r=this.sspSize.h,this.sspSize.rescale&&(r=t.width*this.sspSize.h/this.sspSize.w),"desktop"!==this.device.mobileDesktop&&(this.sspSize.rescaleMobile||this.sspSize.mobileWidth)&&(r=t.width*this.sspSize.h/this.sspSize.w)),this.referenceInitialHeight=r,this.state!==this.states.PLAYING&&this.state!==this.states.PAUSED&&this.params.options.fold&&(r=this.referenceFoldHeight),this.params.options.margin&&parseInt(this.params.options.margin)>0&&(i=this.params.container.offsetWidth-this.params.options.margin,n=this.params.options.margin/2);var a;a=this.adFactory&&("AdImage"===this.adFactory.type||"SocialAd"===this.adFactory.type||"Scroller"===this.adFactory.type||"Display"===this.adFactory.type||"SSP"===this.adFactory.type&&!this.params.ava.enabled||"vertical"===this.adFactory.type)?"transparent":"#e7e7e7",this.params.options.fold&&(r=this.referenceFoldHeight,a="rgba(246,246,246,.4)");var s="";return g.isAMP()?(s+="margin-top:-1px;margin-left:0px;margin-bottom:0px;",g.isAMPStickyIntegration()&&(r=g.getStickyAdMaxHeight())):s+="margin-left:"+n+"px;",s+="height:"+r+"px;width:"+i+"px;background-color:"+a+";"},r.prototype.sspSizeBanner=function(){for(var t=[{w:300,h:250,rescale:!1,rescaleMobile:!0,avareduce:!1},{w:320,h:480,rescale:!1,rescaleMobile:!0,avareduce:!0,mobileWidth:66},{w:300,h:600,rescale:!1,rescaleMobile:!0,avareduce:!0,mobileWidth:50},{w:640,h:360,rescale:!0},{w:728,h:90,rescale:!0,rescaleMobile:!1,avareduce:!1},{w:980,h:90,rescale:!0,rescaleMobile:!1,avareduce:!1},{w:300,h:100,rescale:!1,rescaleMobile:!0,avareduce:!1}],e=0;e<t.length;e++)if(this.sspSize&&this.sspSize.w&&this.sspSize.w===t[e].w&&this.sspSize.h&&this.sspSize.h===t[e].h)return this.sspSize.rescale=t[e].rescale,this.sspSize.rescaleMobile=t[e].rescaleMobile,this.sspSize.avareduce=t[e].avareduce,t[e].mobileWidth&&(this.sspSize.mobileWidth=t[e].mobileWidth),!0;return!1},r.prototype.buildCSS=function(t){var e="SMStyle_"+t+"_"+this.api,i=document.createElement("style");i.type="text/css",i.innerHTML=this._buildStyle(t),i.id=e;var r=window;if(!r.document.getElementById("SMIntext_frame_"+this.api))try{do{if((r=r.parent).document.getElementById("SMIntext_frame_"+this.api))break}while(r.parent&&r!==r.parent)}catch(t){}if(r){var n=r.document.getElementById(e);n&&n.parentNode.removeChild(n),r.document.getElementsByTagName("head")[0].appendChild(i)}},r.prototype.onAdFactory=function(t){"SM"===t.provider?("SocialAd"!==t.type&&"Scroller"!==t.type||(this.params.ava.enabled=!1,this.minimized&&this.maximizeVideo(!0)),this.adFactory={height:t.height,width:t.width,responsive:t.responsive,forceDimensions:"SocialAd"===t.type||"Display"===t.type||"Scroller"===t.type,type:t.type}):"Creative"===t.provider&&"vertical"===t.type&&(this.adFactory={type:t.type,height:t.height,width:t.width,responsive:t.responsive,forceDimensions:!0}),(this.adFactory.height&&this.adFactory.width&&"SSP"!==this.adFactory.type||"SSP"===this.adFactory.type&&!this.params.ava.enabled)&&(this.buildCSS("ref"),this.buildCSS("maxmin"))},r.prototype.onAdFactoryVpaidSSPSize=function(t){this.sspSize=t[0],this.sspSize.w=parseInt(this.sspSize.w,10),this.sspSize.h=parseInt(this.sspSize.h,10),this.sspSizeBanner(),this.buildCSS("ref"),this.buildCSS("maxmin"),this.params.ava.enabled&&this.minimizeVideo(),this.resizePlayer()},r.prototype.getAdFactoryCreativeSize=function(){var t=this.reference.getBoundingClientRect().width,e={width:t,height:this.getHeightFromWidth(t)};return this.adFactory&&this.adFactory.height&&this.adFactory.width?this.adFactory.responsive?(e.height=this.adFactory.height*e.width/this.adFactory.width,e.height>window.innerHeight&&!g.isAMP()&&(e.height=window.innerHeight-40,e.width=this.adFactory.width*e.height/this.adFactory.height)):this.adFactory.forceDimensions&&(e.height=this.adFactory.height,e.width=this.adFactory.width):(this.adFactory&&"Video"===this.adFactory.type||o.isVerificationTag(this.players[0]))&&(e.height=Math.round(9*e.width/16)),e},r.prototype.bringPlayerUp=function(){this.params.ava.enabled&&this.params.options.up&&(this.minimizeVideo(!0),this.fireEffectiveTracker())},r.prototype._doPlayerRestart=function(){void 0!==this.previousAVA&&(this.params.ava.enabled=this.previousAVA,this.previousAVA=void 0),this.state=this.states.LOADING,this.maximizeVideo(),this.params.loop.times>0&&(this.loopIntents++,this.params.loop.times<=this.loopIntents&&(this.params.loop.enabled=!1)),this.currentPriority=this.params.priority,this.players[0].setTagPriority(this.currentPriority),this.ptfTrackerManager.initVideoTracker(this.currentPriority,this.loopIntents),this.createIntervalByName("effectivePosition",this.setScrollEffective,50),this.createIntervalByName("scrollPositionInterval",this.setScrollPosition,5),this.hasBeenAds&&this.loadingDiv&&(this.loadingDiv.style.display="block"),this.players[0].start(),this.bringPlayerUp()},r.prototype.callPlayerRestart=function(){this.params.w.removeEventListener("scroll",this._bindedRestartListener,!0),this._doPlayerRestart()},r.prototype.restartPlayer=function(t){t?this._doPlayerRestart():(this._bindedRestartListener=this.callPlayerRestart.bind(this),this.params.w.addEventListener("scroll",this._bindedRestartListener,!0))},r.prototype.initDefaultAvaWidth=function(t){t.options&&"ES"===t.options.country?this.avaDefaultWidth={mobile:Math.round(.63*screen.width),desktop:420}:this.avaDefaultWidth={mobile:Math.round(.5*screen.width),desktop:420}},r.prototype.getHeightFromWidth=function(t){return o.isVerificationTag(this.players[0])?Math.round(9*t/16):Math.round(t*this.initialRatio.height/this.initialRatio.width)},t.exports=r},function(t,e,i){function r(t,e){this.mainConfig=t,this.params=t.banner,this.container=t.container,this.position=t.options.adPosition,this.api=t.api,this.itId=t.it,this.win=t.w,this.device=e,this.params.tag.length>0&&(this.selectedTag=this.params.tag.length>1?s.selectRandomElementInArr(this.params.tag):this.params.tag[0],this.content=decodeURIComponent(this.selectedTag),this.content=this.replaceMacros(),this.init())}var n=i(3),a=(i(6),i(20)),s=i(8),o=i(21);r.prototype.init=function(){for(var t=[],e=0;e<this.container.childNodes.length;e++){var i=this.container.childNodes[e];1===i.nodeType&&n.isChildNodeAllowed(i)&&t.push(i)}var r=this.win.document.createElement("div");r.setAttribute("id","SMAuxBanner_"+this.api),r.setAttribute("class","SMAuxBanner_"+this.itId+" "+this.device.mobileDesktop),this.aux=r,"fixed"===this.params.display?(r.setAttribute("style","display:none;transform:translateX(-50%);margin-left:50%;z-Index:100000000; background:none;float:left; margin-bottom:20px;"),this.container.insertBefore(r,t[this.position])):(r.setAttribute("style","display:none;position:fixed;bottom:20px;"+this.params.position+":20px;"),this.win.document.body.appendChild(r)),this.iframe=n.appendFrameCode(this.aux,!0,this.content,null,this.api),this.iframe.onload=this.resizeIframe.bind(this)},r.prototype.resizeIframe=function(){try{this.aux.style.display="block",this.iframe.contentWindow.document.body.style.margin=0;var t=this.iframe.contentWindow.document.body.scrollHeight,e=this.iframe.contentWindow.document.body.scrollWidth;0===t||0===e?this.bannerContentDoubleCheck?o.isAMP()||setTimeout(function(){this.closeBanner()}.bind(this),2e3):(this.bannerContentDoubleCheck=!0,setTimeout(function(){this.resizeIframe()}.bind(this),2e3)):(this.aux.style.height=t+"px",this.aux.style.width=e+"px",o.requestResizeUntilSuccess(window.document.body.offsetWidth,t,!0),"ava"===this.params.display&&setTimeout(function(){this.buildCloseBannerButton()}.bind(this),5e3))}catch(t){}},r.prototype.buildCloseBannerButton=function(){var t=document.createElement("div");t.setAttribute("id","closeButton_"+this.api),t.setAttribute("style","z-Index:50000;cursor:pointer;width:26px;height:26px;background-image: url('https://static.sunmedia.tv/SMSdk/ico/close.png');background-size:contain;background-repeat:no-repeat;position:absolute;top:10px;right:10px;display:block"),t.onclick=this.closeBanner.bind(this),this.aux.appendChild(t)},r.prototype.closeBanner=function(){this.aux.style.display="none",this.aux.parentNode.removeChild(this.aux)},r.prototype.replaceMacros=function(){var t={gdprApplies:this.mainConfig.options.gdprApplies,consentData:this.mainConfig.options.consentData,category:this.mainConfig.options.category,height:this.container.offsetHeight,width:this.container.offsetWidth};return a.replace(this.content,t)},t.exports=r}]);
